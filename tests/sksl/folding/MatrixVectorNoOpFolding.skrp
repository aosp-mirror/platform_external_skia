    1. store_src_rg                   coords = src.rg
    2. init_lane_masks                CondMask = LoopMask = RetMask = true
    3. store_condition_mask           $8 = CondMask
    4. store_condition_mask           $43 = CondMask
    5. store_condition_mask           $65 = CondMask
    6. store_condition_mask           $27 = CondMask
    7. store_condition_mask           $88 = CondMask
    8. store_condition_mask           $79 = CondMask
    9. branch_if_no_active_lanes      branch_if_no_active_lanes +57 (label 0 at #66)
   10. store_return_mask              $80 = RetMask
   11. zero_4_slots_unmasked          v, vv = 0
   12. copy_2_constants               $81..82 = testInputs(0..1)
   13. copy_2_slots_masked            v = Mask($81..82)
   14. copy_2_constants               $81..82 = testInputs(0..1)
   15. copy_2_slots_masked            v = Mask($81..82)
   16. store_condition_mask           $81 = CondMask
   17. copy_2_slots_unmasked          $82..83 = v
   18. copy_2_constants               $84..85 = testInputs(0..1)
   19. cmpne_2_floats                 $82..83 = notEqual($82..83, $84..85)
   20. bitwise_or_int                 $82 |= $83
   21. merge_condition_mask           CondMask = $81 & $82
   22. zero_slot_unmasked             $83 = 0
   23. copy_slot_masked               [test_no_op_mat2_X_vec2].result = Mask($83)
   24. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
   25. load_condition_mask            CondMask = $81
   26. store_condition_mask           $81 = CondMask
   27. copy_2_slots_unmasked          $82..83 = v
   28. copy_2_constants               $84..85 = testInputs(0..1)
   29. cmpne_2_floats                 $82..83 = notEqual($82..83, $84..85)
   30. bitwise_or_int                 $82 |= $83
   31. merge_condition_mask           CondMask = $81 & $82
   32. zero_slot_unmasked             $83 = 0
   33. copy_slot_masked               [test_no_op_mat2_X_vec2].result = Mask($83)
   34. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
   35. load_condition_mask            CondMask = $81
   36. zero_2_slots_unmasked          $81..82 = 0
   37. copy_2_constants               $83..84 = testInputs(0..1)
   38. sub_2_floats                   $81..82 -= $83..84
   39. copy_2_slots_masked            v = Mask($81..82)
   40. zero_2_slots_unmasked          $81..82 = 0
   41. copy_2_constants               $83..84 = testInputs(0..1)
   42. sub_2_floats                   $81..82 -= $83..84
   43. copy_2_slots_masked            v = Mask($81..82)
   44. store_condition_mask           $81 = CondMask
   45. copy_2_slots_unmasked          $82..83 = v
   46. zero_2_slots_unmasked          $84..85 = 0
   47. copy_2_constants               $86..87 = testInputs(0..1)
   48. sub_2_floats                   $84..85 -= $86..87
   49. cmpne_2_floats                 $82..83 = notEqual($82..83, $84..85)
   50. bitwise_or_int                 $82 |= $83
   51. merge_condition_mask           CondMask = $81 & $82
   52. zero_slot_unmasked             $83 = 0
   53. copy_slot_masked               [test_no_op_mat2_X_vec2].result = Mask($83)
   54. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
   55. load_condition_mask            CondMask = $81
   56. zero_2_slots_unmasked          $81..82 = 0
   57. copy_2_slots_masked            vv = Mask($81..82)
   58. zero_2_slots_unmasked          $81..82 = 0
   59. copy_2_slots_masked            vv = Mask($81..82)
   60. zero_2_slots_unmasked          $83..84 = 0
   61. cmpeq_2_floats                 $81..82 = equal($81..82, $83..84)
   62. bitwise_and_int                $81 &= $82
   63. copy_slot_masked               [test_no_op_mat2_X_vec2].result = Mask($81)
   64. load_return_mask               RetMask = $80
   65. copy_slot_unmasked             $80 = [test_no_op_mat2_X_vec2].result
   66. label                          label 0x00000000
   67. zero_slot_unmasked             $89 = 0
   68. merge_condition_mask           CondMask = $79 & $80
   69. branch_if_no_active_lanes      branch_if_no_active_lanes +64 (label 1 at #133)
   70. store_return_mask              $90 = RetMask
   71. zero_4_slots_unmasked          v₁, vv₁(0) = 0
   72. zero_2_slots_unmasked          vv₁(1..2) = 0
   73. copy_3_constants               $91..93 = testInputs(0..2)
   74. copy_3_slots_masked            v₁ = Mask($91..93)
   75. copy_3_constants               $91..93 = testInputs(0..2)
   76. copy_3_slots_masked            v₁ = Mask($91..93)
   77. store_condition_mask           $91 = CondMask
   78. copy_3_slots_unmasked          $92..94 = v₁
   79. copy_3_constants               $95..97 = testInputs(0..2)
   80. cmpne_3_floats                 $92..94 = notEqual($92..94, $95..97)
   81. bitwise_or_int                 $93 |= $94
   82. bitwise_or_int                 $92 |= $93
   83. merge_condition_mask           CondMask = $91 & $92
   84. zero_slot_unmasked             $93 = 0
   85. copy_slot_masked               [test_no_op_mat3_X_vec3].result = Mask($93)
   86. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
   87. load_condition_mask            CondMask = $91
   88. store_condition_mask           $91 = CondMask
   89. copy_3_slots_unmasked          $92..94 = v₁
   90. copy_3_constants               $95..97 = testInputs(0..2)
   91. cmpne_3_floats                 $92..94 = notEqual($92..94, $95..97)
   92. bitwise_or_int                 $93 |= $94
   93. bitwise_or_int                 $92 |= $93
   94. merge_condition_mask           CondMask = $91 & $92
   95. zero_slot_unmasked             $93 = 0
   96. copy_slot_masked               [test_no_op_mat3_X_vec3].result = Mask($93)
   97. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
   98. load_condition_mask            CondMask = $91
   99. zero_3_slots_unmasked          $91..93 = 0
  100. copy_3_constants               $94..96 = testInputs(0..2)
  101. sub_3_floats                   $91..93 -= $94..96
  102. copy_3_slots_masked            v₁ = Mask($91..93)
  103. zero_3_slots_unmasked          $91..93 = 0
  104. copy_3_constants               $94..96 = testInputs(0..2)
  105. sub_3_floats                   $91..93 -= $94..96
  106. copy_3_slots_masked            v₁ = Mask($91..93)
  107. store_condition_mask           $91 = CondMask
  108. copy_3_slots_unmasked          $92..94 = v₁
  109. zero_3_slots_unmasked          $95..97 = 0
  110. copy_3_constants               $98..100 = testInputs(0..2)
  111. sub_3_floats                   $95..97 -= $98..100
  112. cmpne_3_floats                 $92..94 = notEqual($92..94, $95..97)
  113. bitwise_or_int                 $93 |= $94
  114. bitwise_or_int                 $92 |= $93
  115. merge_condition_mask           CondMask = $91 & $92
  116. zero_slot_unmasked             $93 = 0
  117. copy_slot_masked               [test_no_op_mat3_X_vec3].result = Mask($93)
  118. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  119. load_condition_mask            CondMask = $91
  120. zero_3_slots_unmasked          $91..93 = 0
  121. copy_3_slots_masked            vv₁ = Mask($91..93)
  122. zero_3_slots_unmasked          $91..93 = 0
  123. copy_3_slots_masked            vv₁ = Mask($91..93)
  124. zero_3_slots_unmasked          $94..96 = 0
  125. cmpeq_3_floats                 $91..93 = equal($91..93, $94..96)
  126. bitwise_and_int                $92 &= $93
  127. bitwise_and_int                $91 &= $92
  128. copy_slot_masked               [test_no_op_mat3_X_vec3].result = Mask($91)
  129. load_return_mask               RetMask = $90
  130. copy_slot_unmasked             $90 = [test_no_op_mat3_X_vec3].result
  131. label                          label 0x00000002
  132. copy_slot_masked               $89 = Mask($90)
  133. label                          label 0x00000001
  134. load_condition_mask            CondMask = $79
  135. zero_slot_unmasked             $28 = 0
  136. merge_condition_mask           CondMask = $88 & $89
  137. branch_if_no_active_lanes      branch_if_no_active_lanes +64 (label 3 at #201)
  138. store_return_mask              $29 = RetMask
  139. zero_4_slots_unmasked          v₂ = 0
  140. zero_4_slots_unmasked          vv₂ = 0
  141. copy_4_constants               $30..33 = testInputs
  142. copy_4_slots_masked            v₂ = Mask($30..33)
  143. copy_4_constants               $30..33 = testInputs
  144. copy_4_slots_masked            v₂ = Mask($30..33)
  145. store_condition_mask           $30 = CondMask
  146. copy_4_slots_unmasked          $31..34 = v₂
  147. copy_4_constants               $35..38 = testInputs
  148. cmpne_4_floats                 $31..34 = notEqual($31..34, $35..38)
  149. bitwise_or_2_ints              $31..32 |= $33..34
  150. bitwise_or_int                 $31 |= $32
  151. merge_condition_mask           CondMask = $30 & $31
  152. zero_slot_unmasked             $32 = 0
  153. copy_slot_masked               [test_no_op_mat4_X_vec4].result = Mask($32)
  154. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  155. load_condition_mask            CondMask = $30
  156. store_condition_mask           $30 = CondMask
  157. copy_4_slots_unmasked          $31..34 = v₂
  158. copy_4_constants               $35..38 = testInputs
  159. cmpne_4_floats                 $31..34 = notEqual($31..34, $35..38)
  160. bitwise_or_2_ints              $31..32 |= $33..34
  161. bitwise_or_int                 $31 |= $32
  162. merge_condition_mask           CondMask = $30 & $31
  163. zero_slot_unmasked             $32 = 0
  164. copy_slot_masked               [test_no_op_mat4_X_vec4].result = Mask($32)
  165. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  166. load_condition_mask            CondMask = $30
  167. zero_4_slots_unmasked          $30..33 = 0
  168. copy_4_constants               $34..37 = testInputs
  169. sub_4_floats                   $30..33 -= $34..37
  170. copy_4_slots_masked            v₂ = Mask($30..33)
  171. zero_4_slots_unmasked          $30..33 = 0
  172. copy_4_constants               $34..37 = testInputs
  173. sub_4_floats                   $30..33 -= $34..37
  174. copy_4_slots_masked            v₂ = Mask($30..33)
  175. store_condition_mask           $30 = CondMask
  176. copy_4_slots_unmasked          $31..34 = v₂
  177. zero_4_slots_unmasked          $35..38 = 0
  178. copy_4_constants               $39..42 = testInputs
  179. sub_4_floats                   $35..38 -= $39..42
  180. cmpne_4_floats                 $31..34 = notEqual($31..34, $35..38)
  181. bitwise_or_2_ints              $31..32 |= $33..34
  182. bitwise_or_int                 $31 |= $32
  183. merge_condition_mask           CondMask = $30 & $31
  184. zero_slot_unmasked             $32 = 0
  185. copy_slot_masked               [test_no_op_mat4_X_vec4].result = Mask($32)
  186. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  187. load_condition_mask            CondMask = $30
  188. zero_4_slots_unmasked          $30..33 = 0
  189. copy_4_slots_masked            vv₂ = Mask($30..33)
  190. zero_4_slots_unmasked          $30..33 = 0
  191. copy_4_slots_masked            vv₂ = Mask($30..33)
  192. zero_4_slots_unmasked          $34..37 = 0
  193. cmpeq_4_floats                 $30..33 = equal($30..33, $34..37)
  194. bitwise_and_2_ints             $30..31 &= $32..33
  195. bitwise_and_int                $30 &= $31
  196. copy_slot_masked               [test_no_op_mat4_X_vec4].result = Mask($30)
  197. load_return_mask               RetMask = $29
  198. copy_slot_unmasked             $29 = [test_no_op_mat4_X_vec4].result
  199. label                          label 0x00000004
  200. copy_slot_masked               $28 = Mask($29)
  201. label                          label 0x00000003
  202. load_condition_mask            CondMask = $88
  203. zero_slot_unmasked             $66 = 0
  204. merge_condition_mask           CondMask = $27 & $28
  205. branch_if_no_active_lanes      branch_if_no_active_lanes +104 (label 5 at #309)
  206. store_return_mask              $67 = RetMask
  207. copy_constant                  $68 = 0xBF800000 (-1.0)
  208. copy_slot_unmasked             $69 = $68
  209. copy_2_slots_unmasked          n = $68..69
  210. copy_constant                  $68 = 0x3F800000 (1.0)
  211. copy_slot_unmasked             $69 = $68
  212. copy_2_slots_unmasked          i = $68..69
  213. zero_4_slots_unmasked          z, v₃ = 0
  214. zero_2_slots_unmasked          vv₃ = 0
  215. zero_2_slots_unmasked          $68..69 = 0
  216. copy_2_slots_masked            vv₃ = Mask($68..69)
  217. zero_2_slots_unmasked          $68..69 = 0
  218. copy_2_slots_masked            vv₃ = Mask($68..69)
  219. store_condition_mask           $68 = CondMask
  220. copy_2_slots_unmasked          $69..70 = vv₃
  221. copy_2_slots_unmasked          $71..72 = z
  222. cmpne_2_floats                 $69..70 = notEqual($69..70, $71..72)
  223. bitwise_or_int                 $69 |= $70
  224. merge_condition_mask           CondMask = $68 & $69
  225. zero_slot_unmasked             $70 = 0
  226. copy_slot_masked               [test_no_op_vec2_X_mat2].result = Mask($70)
  227. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  228. load_condition_mask            CondMask = $68
  229. copy_2_slots_unmasked          $29..30 = i
  230. copy_4_constants               $31..34 = testMatrix2x2
  231. copy_2_slots_unmasked          $68..69 = $29..30
  232. copy_2_slots_unmasked          $70..71 = $31..32
  233. dot_2_floats                   $68 = dot($68..69, $70..71)
  234. copy_2_slots_unmasked          $69..70 = $29..30
  235. copy_2_slots_unmasked          $71..72 = $33..34
  236. dot_2_floats                   $69 = dot($69..70, $71..72)
  237. copy_2_slots_masked            v₃ = Mask($68..69)
  238. store_condition_mask           $68 = CondMask
  239. copy_2_slots_unmasked          $69..70 = v₃
  240. copy_constant                  $71 = 0x40400000 (3.0)
  241. copy_constant                  $72 = 0x40E00000 (7.0)
  242. cmpne_2_floats                 $69..70 = notEqual($69..70, $71..72)
  243. bitwise_or_int                 $69 |= $70
  244. merge_condition_mask           CondMask = $68 & $69
  245. zero_slot_unmasked             $70 = 0
  246. copy_slot_masked               [test_no_op_vec2_X_mat2].result = Mask($70)
  247. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  248. load_condition_mask            CondMask = $68
  249. copy_4_constants               $29..32 = testMatrix2x2
  250. swizzle_3                      $30..32 = ($30..32).yxz
  251. copy_2_slots_unmasked          $33..34 = i
  252. copy_2_slots_unmasked          $68..69 = $29..30
  253. copy_2_slots_unmasked          $70..71 = $33..34
  254. dot_2_floats                   $68 = dot($68..69, $70..71)
  255. copy_2_slots_unmasked          $69..70 = $31..32
  256. copy_2_slots_unmasked          $71..72 = $33..34
  257. dot_2_floats                   $69 = dot($69..70, $71..72)
  258. copy_2_slots_masked            v₃ = Mask($68..69)
  259. store_condition_mask           $68 = CondMask
  260. copy_2_slots_unmasked          $69..70 = v₃
  261. copy_constant                  $71 = 0x40800000 (4.0)
  262. copy_constant                  $72 = 0x40C00000 (6.0)
  263. cmpne_2_floats                 $69..70 = notEqual($69..70, $71..72)
  264. bitwise_or_int                 $69 |= $70
  265. merge_condition_mask           CondMask = $68 & $69
  266. zero_slot_unmasked             $70 = 0
  267. copy_slot_masked               [test_no_op_vec2_X_mat2].result = Mask($70)
  268. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  269. load_condition_mask            CondMask = $68
  270. copy_2_slots_unmasked          $29..30 = n
  271. copy_4_constants               $31..34 = testMatrix2x2
  272. copy_2_slots_unmasked          $68..69 = $29..30
  273. copy_2_slots_unmasked          $70..71 = $31..32
  274. dot_2_floats                   $68 = dot($68..69, $70..71)
  275. copy_2_slots_unmasked          $69..70 = $29..30
  276. copy_2_slots_unmasked          $71..72 = $33..34
  277. dot_2_floats                   $69 = dot($69..70, $71..72)
  278. copy_2_slots_masked            v₃ = Mask($68..69)
  279. store_condition_mask           $68 = CondMask
  280. copy_2_slots_unmasked          $69..70 = v₃
  281. copy_constant                  $71 = 0xC0400000 (-3.0)
  282. copy_constant                  $72 = 0xC0E00000 (-7.0)
  283. cmpne_2_floats                 $69..70 = notEqual($69..70, $71..72)
  284. bitwise_or_int                 $69 |= $70
  285. merge_condition_mask           CondMask = $68 & $69
  286. zero_slot_unmasked             $70 = 0
  287. copy_slot_masked               [test_no_op_vec2_X_mat2].result = Mask($70)
  288. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  289. load_condition_mask            CondMask = $68
  290. copy_4_constants               $29..32 = testMatrix2x2
  291. swizzle_3                      $30..32 = ($30..32).yxz
  292. copy_2_slots_unmasked          $33..34 = n
  293. copy_2_slots_unmasked          $68..69 = $29..30
  294. copy_2_slots_unmasked          $70..71 = $33..34
  295. dot_2_floats                   $68 = dot($68..69, $70..71)
  296. copy_2_slots_unmasked          $69..70 = $31..32
  297. copy_2_slots_unmasked          $71..72 = $33..34
  298. dot_2_floats                   $69 = dot($69..70, $71..72)
  299. copy_2_slots_masked            v₃ = Mask($68..69)
  300. copy_constant                  $70 = 0xC0800000 (-4.0)
  301. copy_constant                  $71 = 0xC0C00000 (-6.0)
  302. cmpeq_2_floats                 $68..69 = equal($68..69, $70..71)
  303. bitwise_and_int                $68 &= $69
  304. copy_slot_masked               [test_no_op_vec2_X_mat2].result = Mask($68)
  305. load_return_mask               RetMask = $67
  306. copy_slot_unmasked             $67 = [test_no_op_vec2_X_mat2].result
  307. label                          label 0x00000006
  308. copy_slot_masked               $66 = Mask($67)
  309. label                          label 0x00000005
  310. load_condition_mask            CondMask = $27
  311. zero_slot_unmasked             $44 = 0
  312. merge_condition_mask           CondMask = $65 & $66
  313. branch_if_no_active_lanes      branch_if_no_active_lanes +134 (label 7 at #447)
  314. store_return_mask              $45 = RetMask
  315. copy_constant                  $46 = 0xBF800000 (-1.0)
  316. swizzle_3                      $46..48 = ($46..48).xxx
  317. copy_3_slots_unmasked          n₁ = $46..48
  318. copy_constant                  $46 = 0x3F800000 (1.0)
  319. swizzle_3                      $46..48 = ($46..48).xxx
  320. copy_3_slots_unmasked          i₁ = $46..48
  321. zero_4_slots_unmasked          z₁, v₄(0) = 0
  322. zero_4_slots_unmasked          v₄(1..2), vv₄(0..1) = 0
  323. zero_slot_unmasked             vv₄(2) = 0
  324. zero_3_slots_unmasked          $46..48 = 0
  325. copy_3_slots_masked            vv₄ = Mask($46..48)
  326. zero_3_slots_unmasked          $46..48 = 0
  327. copy_3_slots_masked            vv₄ = Mask($46..48)
  328. store_condition_mask           $46 = CondMask
  329. copy_3_slots_unmasked          $47..49 = vv₄
  330. copy_3_slots_unmasked          $50..52 = z₁
  331. cmpne_3_floats                 $47..49 = notEqual($47..49, $50..52)
  332. bitwise_or_int                 $48 |= $49
  333. bitwise_or_int                 $47 |= $48
  334. merge_condition_mask           CondMask = $46 & $47
  335. zero_slot_unmasked             $48 = 0
  336. copy_slot_masked               [test_no_op_vec3_X_mat3].result = Mask($48)
  337. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  338. load_condition_mask            CondMask = $46
  339. copy_3_slots_unmasked          $67..69 = i₁
  340. copy_4_constants               $70..73 = testMatrix3x3(0..3)
  341. copy_4_constants               $74..77 = testMatrix3x3(4..7)
  342. copy_constant                  $78 = testMatrix3x3(8)
  343. copy_3_slots_unmasked          $46..48 = $67..69
  344. copy_3_slots_unmasked          $49..51 = $70..72
  345. dot_3_floats                   $46 = dot($46..48, $49..51)
  346. copy_3_slots_unmasked          $47..49 = $67..69
  347. copy_3_slots_unmasked          $50..52 = $73..75
  348. dot_3_floats                   $47 = dot($47..49, $50..52)
  349. copy_3_slots_unmasked          $48..50 = $67..69
  350. copy_3_slots_unmasked          $51..53 = $76..78
  351. dot_3_floats                   $48 = dot($48..50, $51..53)
  352. copy_3_slots_masked            v₄ = Mask($46..48)
  353. store_condition_mask           $46 = CondMask
  354. copy_3_slots_unmasked          $47..49 = v₄
  355. copy_constant                  $50 = 0x40C00000 (6.0)
  356. copy_constant                  $51 = 0x41700000 (15.0)
  357. copy_constant                  $52 = 0x41C00000 (24.0)
  358. cmpne_3_floats                 $47..49 = notEqual($47..49, $50..52)
  359. bitwise_or_int                 $48 |= $49
  360. bitwise_or_int                 $47 |= $48
  361. merge_condition_mask           CondMask = $46 & $47
  362. zero_slot_unmasked             $48 = 0
  363. copy_slot_masked               [test_no_op_vec3_X_mat3].result = Mask($48)
  364. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  365. load_condition_mask            CondMask = $46
  366. copy_4_constants               $67..70 = testMatrix3x3(0..3)
  367. copy_4_constants               $71..74 = testMatrix3x3(4..7)
  368. copy_constant                  $75 = testMatrix3x3(8)
  369. shuffle                        $68..75 = ($68..75)[2 5 0 3 6 1 4 7]
  370. copy_3_slots_unmasked          $76..78 = i₁
  371. copy_3_slots_unmasked          $46..48 = $67..69
  372. copy_3_slots_unmasked          $49..51 = $76..78
  373. dot_3_floats                   $46 = dot($46..48, $49..51)
  374. copy_3_slots_unmasked          $47..49 = $70..72
  375. copy_3_slots_unmasked          $50..52 = $76..78
  376. dot_3_floats                   $47 = dot($47..49, $50..52)
  377. copy_3_slots_unmasked          $48..50 = $73..75
  378. copy_3_slots_unmasked          $51..53 = $76..78
  379. dot_3_floats                   $48 = dot($48..50, $51..53)
  380. copy_3_slots_masked            v₄ = Mask($46..48)
  381. store_condition_mask           $46 = CondMask
  382. copy_3_slots_unmasked          $47..49 = v₄
  383. copy_constant                  $50 = 0x41400000 (12.0)
  384. copy_constant                  $51 = 0x41700000 (15.0)
  385. copy_constant                  $52 = 0x41900000 (18.0)
  386. cmpne_3_floats                 $47..49 = notEqual($47..49, $50..52)
  387. bitwise_or_int                 $48 |= $49
  388. bitwise_or_int                 $47 |= $48
  389. merge_condition_mask           CondMask = $46 & $47
  390. zero_slot_unmasked             $48 = 0
  391. copy_slot_masked               [test_no_op_vec3_X_mat3].result = Mask($48)
  392. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  393. load_condition_mask            CondMask = $46
  394. copy_3_slots_unmasked          $67..69 = n₁
  395. copy_4_constants               $70..73 = testMatrix3x3(0..3)
  396. copy_4_constants               $74..77 = testMatrix3x3(4..7)
  397. copy_constant                  $78 = testMatrix3x3(8)
  398. copy_3_slots_unmasked          $46..48 = $67..69
  399. copy_3_slots_unmasked          $49..51 = $70..72
  400. dot_3_floats                   $46 = dot($46..48, $49..51)
  401. copy_3_slots_unmasked          $47..49 = $67..69
  402. copy_3_slots_unmasked          $50..52 = $73..75
  403. dot_3_floats                   $47 = dot($47..49, $50..52)
  404. copy_3_slots_unmasked          $48..50 = $67..69
  405. copy_3_slots_unmasked          $51..53 = $76..78
  406. dot_3_floats                   $48 = dot($48..50, $51..53)
  407. copy_3_slots_masked            v₄ = Mask($46..48)
  408. store_condition_mask           $46 = CondMask
  409. copy_3_slots_unmasked          $47..49 = v₄
  410. copy_constant                  $50 = 0xC0C00000 (-6.0)
  411. copy_constant                  $51 = 0xC1700000 (-15.0)
  412. copy_constant                  $52 = 0xC1C00000 (-24.0)
  413. cmpne_3_floats                 $47..49 = notEqual($47..49, $50..52)
  414. bitwise_or_int                 $48 |= $49
  415. bitwise_or_int                 $47 |= $48
  416. merge_condition_mask           CondMask = $46 & $47
  417. zero_slot_unmasked             $48 = 0
  418. copy_slot_masked               [test_no_op_vec3_X_mat3].result = Mask($48)
  419. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  420. load_condition_mask            CondMask = $46
  421. copy_4_constants               $67..70 = testMatrix3x3(0..3)
  422. copy_4_constants               $71..74 = testMatrix3x3(4..7)
  423. copy_constant                  $75 = testMatrix3x3(8)
  424. shuffle                        $68..75 = ($68..75)[2 5 0 3 6 1 4 7]
  425. copy_3_slots_unmasked          $76..78 = n₁
  426. copy_3_slots_unmasked          $46..48 = $67..69
  427. copy_3_slots_unmasked          $49..51 = $76..78
  428. dot_3_floats                   $46 = dot($46..48, $49..51)
  429. copy_3_slots_unmasked          $47..49 = $70..72
  430. copy_3_slots_unmasked          $50..52 = $76..78
  431. dot_3_floats                   $47 = dot($47..49, $50..52)
  432. copy_3_slots_unmasked          $48..50 = $73..75
  433. copy_3_slots_unmasked          $51..53 = $76..78
  434. dot_3_floats                   $48 = dot($48..50, $51..53)
  435. copy_3_slots_masked            v₄ = Mask($46..48)
  436. copy_constant                  $49 = 0xC1400000 (-12.0)
  437. copy_constant                  $50 = 0xC1700000 (-15.0)
  438. copy_constant                  $51 = 0xC1900000 (-18.0)
  439. cmpeq_3_floats                 $46..48 = equal($46..48, $49..51)
  440. bitwise_and_int                $47 &= $48
  441. bitwise_and_int                $46 &= $47
  442. copy_slot_masked               [test_no_op_vec3_X_mat3].result = Mask($46)
  443. load_return_mask               RetMask = $45
  444. copy_slot_unmasked             $45 = [test_no_op_vec3_X_mat3].result
  445. label                          label 0x00000008
  446. copy_slot_masked               $44 = Mask($45)
  447. label                          label 0x00000007
  448. load_condition_mask            CondMask = $65
  449. zero_slot_unmasked             $9 = 0
  450. merge_condition_mask           CondMask = $43 & $44
  451. branch_if_no_active_lanes      branch_if_no_active_lanes +159 (label 9 at #610)
  452. store_return_mask              $10 = RetMask
  453. copy_constant                  $11 = 0xBF800000 (-1.0)
  454. swizzle_4                      $11..14 = ($11..14).xxxx
  455. copy_4_slots_unmasked          n₂ = $11..14
  456. copy_constant                  $11 = 0x3F800000 (1.0)
  457. swizzle_4                      $11..14 = ($11..14).xxxx
  458. copy_4_slots_unmasked          i₂ = $11..14
  459. zero_4_slots_unmasked          z₂ = 0
  460. copy_4_constants               $11..14 = testMatrix2x2
  461. copy_4_constants               $15..18 = testMatrix2x2
  462. copy_4_constants               $19..22 = testMatrix2x2
  463. copy_4_constants               $23..26 = testMatrix2x2
  464. copy_4_slots_unmasked          testMatrix4x4(0..3) = $11..14
  465. copy_4_slots_unmasked          testMatrix4x4(4..7) = $15..18
  466. copy_4_slots_unmasked          testMatrix4x4(8..11) = $19..22
  467. copy_4_slots_unmasked          testMatrix4x4(12..15) = $23..26
  468. zero_4_slots_unmasked          v₅ = 0
  469. zero_4_slots_unmasked          vv₅ = 0
  470. zero_4_slots_unmasked          $11..14 = 0
  471. copy_4_slots_masked            vv₅ = Mask($11..14)
  472. zero_4_slots_unmasked          $11..14 = 0
  473. copy_4_slots_masked            vv₅ = Mask($11..14)
  474. store_condition_mask           $11 = CondMask
  475. copy_4_slots_unmasked          $12..15 = vv₅
  476. copy_4_slots_unmasked          $16..19 = z₂
  477. cmpne_4_floats                 $12..15 = notEqual($12..15, $16..19)
  478. bitwise_or_2_ints              $12..13 |= $14..15
  479. bitwise_or_int                 $12 |= $13
  480. merge_condition_mask           CondMask = $11 & $12
  481. zero_slot_unmasked             $13 = 0
  482. copy_slot_masked               [test_no_op_vec4_X_mat4].result = Mask($13)
  483. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  484. load_condition_mask            CondMask = $11
  485. copy_4_slots_unmasked          $45..48 = i₂
  486. copy_4_slots_unmasked          $49..52 = testMatrix4x4(0..3)
  487. copy_4_slots_unmasked          $53..56 = testMatrix4x4(4..7)
  488. copy_4_slots_unmasked          $57..60 = testMatrix4x4(8..11)
  489. copy_4_slots_unmasked          $61..64 = testMatrix4x4(12..15)
  490. copy_4_slots_unmasked          $11..14 = $45..48
  491. copy_4_slots_unmasked          $15..18 = $49..52
  492. dot_4_floats                   $11 = dot($11..14, $15..18)
  493. copy_4_slots_unmasked          $12..15 = $45..48
  494. copy_4_slots_unmasked          $16..19 = $53..56
  495. dot_4_floats                   $12 = dot($12..15, $16..19)
  496. copy_4_slots_unmasked          $13..16 = $45..48
  497. copy_4_slots_unmasked          $17..20 = $57..60
  498. dot_4_floats                   $13 = dot($13..16, $17..20)
  499. copy_4_slots_unmasked          $14..17 = $45..48
  500. copy_4_slots_unmasked          $18..21 = $61..64
  501. dot_4_floats                   $14 = dot($14..17, $18..21)
  502. stack_rewind
  503. copy_4_slots_masked            v₅ = Mask($11..14)
  504. store_condition_mask           $11 = CondMask
  505. copy_4_slots_unmasked          $12..15 = v₅
  506. copy_constant                  $16 = 0x41200000 (10.0)
  507. swizzle_4                      $16..19 = ($16..19).xxxx
  508. cmpne_4_floats                 $12..15 = notEqual($12..15, $16..19)
  509. bitwise_or_2_ints              $12..13 |= $14..15
  510. bitwise_or_int                 $12 |= $13
  511. merge_condition_mask           CondMask = $11 & $12
  512. zero_slot_unmasked             $13 = 0
  513. copy_slot_masked               [test_no_op_vec4_X_mat4].result = Mask($13)
  514. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  515. load_condition_mask            CondMask = $11
  516. copy_4_slots_unmasked          $45..48 = testMatrix4x4(0..3)
  517. copy_4_slots_unmasked          $49..52 = testMatrix4x4(4..7)
  518. copy_4_slots_unmasked          $53..56 = testMatrix4x4(8..11)
  519. copy_4_slots_unmasked          $57..60 = testMatrix4x4(12..15)
  520. shuffle                        $46..60 = ($46..60)[3 7 11 0 4 8 12 1 5 9 13 2 6 10 14]
  521. copy_4_slots_unmasked          $61..64 = i₂
  522. copy_4_slots_unmasked          $11..14 = $45..48
  523. copy_4_slots_unmasked          $15..18 = $61..64
  524. dot_4_floats                   $11 = dot($11..14, $15..18)
  525. copy_4_slots_unmasked          $12..15 = $49..52
  526. copy_4_slots_unmasked          $16..19 = $61..64
  527. dot_4_floats                   $12 = dot($12..15, $16..19)
  528. copy_4_slots_unmasked          $13..16 = $53..56
  529. copy_4_slots_unmasked          $17..20 = $61..64
  530. dot_4_floats                   $13 = dot($13..16, $17..20)
  531. copy_4_slots_unmasked          $14..17 = $57..60
  532. copy_4_slots_unmasked          $18..21 = $61..64
  533. dot_4_floats                   $14 = dot($14..17, $18..21)
  534. copy_4_slots_masked            v₅ = Mask($11..14)
  535. store_condition_mask           $11 = CondMask
  536. copy_4_slots_unmasked          $12..15 = v₅
  537. copy_constant                  $16 = 0x40800000 (4.0)
  538. copy_constant                  $17 = 0x41000000 (8.0)
  539. copy_constant                  $18 = 0x41400000 (12.0)
  540. copy_constant                  $19 = 0x41800000 (16.0)
  541. cmpne_4_floats                 $12..15 = notEqual($12..15, $16..19)
  542. bitwise_or_2_ints              $12..13 |= $14..15
  543. bitwise_or_int                 $12 |= $13
  544. merge_condition_mask           CondMask = $11 & $12
  545. zero_slot_unmasked             $13 = 0
  546. copy_slot_masked               [test_no_op_vec4_X_mat4].result = Mask($13)
  547. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  548. load_condition_mask            CondMask = $11
  549. copy_4_slots_unmasked          $45..48 = n₂
  550. copy_4_slots_unmasked          $49..52 = testMatrix4x4(0..3)
  551. copy_4_slots_unmasked          $53..56 = testMatrix4x4(4..7)
  552. copy_4_slots_unmasked          $57..60 = testMatrix4x4(8..11)
  553. copy_4_slots_unmasked          $61..64 = testMatrix4x4(12..15)
  554. copy_4_slots_unmasked          $11..14 = $45..48
  555. copy_4_slots_unmasked          $15..18 = $49..52
  556. dot_4_floats                   $11 = dot($11..14, $15..18)
  557. copy_4_slots_unmasked          $12..15 = $45..48
  558. copy_4_slots_unmasked          $16..19 = $53..56
  559. dot_4_floats                   $12 = dot($12..15, $16..19)
  560. copy_4_slots_unmasked          $13..16 = $45..48
  561. copy_4_slots_unmasked          $17..20 = $57..60
  562. dot_4_floats                   $13 = dot($13..16, $17..20)
  563. copy_4_slots_unmasked          $14..17 = $45..48
  564. copy_4_slots_unmasked          $18..21 = $61..64
  565. dot_4_floats                   $14 = dot($14..17, $18..21)
  566. copy_4_slots_masked            v₅ = Mask($11..14)
  567. store_condition_mask           $11 = CondMask
  568. copy_4_slots_unmasked          $12..15 = v₅
  569. copy_constant                  $16 = 0xC1200000 (-10.0)
  570. swizzle_4                      $16..19 = ($16..19).xxxx
  571. cmpne_4_floats                 $12..15 = notEqual($12..15, $16..19)
  572. bitwise_or_2_ints              $12..13 |= $14..15
  573. bitwise_or_int                 $12 |= $13
  574. merge_condition_mask           CondMask = $11 & $12
  575. zero_slot_unmasked             $13 = 0
  576. copy_slot_masked               [test_no_op_vec4_X_mat4].result = Mask($13)
  577. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  578. load_condition_mask            CondMask = $11
  579. copy_4_slots_unmasked          $45..48 = testMatrix4x4(0..3)
  580. copy_4_slots_unmasked          $49..52 = testMatrix4x4(4..7)
  581. copy_4_slots_unmasked          $53..56 = testMatrix4x4(8..11)
  582. copy_4_slots_unmasked          $57..60 = testMatrix4x4(12..15)
  583. shuffle                        $46..60 = ($46..60)[3 7 11 0 4 8 12 1 5 9 13 2 6 10 14]
  584. copy_4_slots_unmasked          $61..64 = n₂
  585. copy_4_slots_unmasked          $11..14 = $45..48
  586. copy_4_slots_unmasked          $15..18 = $61..64
  587. dot_4_floats                   $11 = dot($11..14, $15..18)
  588. copy_4_slots_unmasked          $12..15 = $49..52
  589. copy_4_slots_unmasked          $16..19 = $61..64
  590. dot_4_floats                   $12 = dot($12..15, $16..19)
  591. copy_4_slots_unmasked          $13..16 = $53..56
  592. copy_4_slots_unmasked          $17..20 = $61..64
  593. dot_4_floats                   $13 = dot($13..16, $17..20)
  594. copy_4_slots_unmasked          $14..17 = $57..60
  595. copy_4_slots_unmasked          $18..21 = $61..64
  596. dot_4_floats                   $14 = dot($14..17, $18..21)
  597. copy_4_slots_masked            v₅ = Mask($11..14)
  598. copy_constant                  $15 = 0xC0800000 (-4.0)
  599. copy_constant                  $16 = 0xC1000000 (-8.0)
  600. copy_constant                  $17 = 0xC1400000 (-12.0)
  601. copy_constant                  $18 = 0xC1800000 (-16.0)
  602. cmpeq_4_floats                 $11..14 = equal($11..14, $15..18)
  603. bitwise_and_2_ints             $11..12 &= $13..14
  604. bitwise_and_int                $11 &= $12
  605. copy_slot_masked               [test_no_op_vec4_X_mat4].result = Mask($11)
  606. load_return_mask               RetMask = $10
  607. copy_slot_unmasked             $10 = [test_no_op_vec4_X_mat4].result
  608. label                          label 0x0000000A
  609. copy_slot_masked               $9 = Mask($10)
  610. label                          label 0x00000009
  611. load_condition_mask            CondMask = $43
  612. copy_4_constants               $0..3 = colorRed
  613. merge_condition_mask           CondMask = $8 & $9
  614. copy_4_constants               $4..7 = colorGreen
  615. copy_4_slots_masked            $0..3 = Mask($4..7)
  616. label                          label 0x0000000B
  617. load_condition_mask            CondMask = $8
  618. copy_4_slots_unmasked          [main].result = $0..3
  619. load_src                       src.rgba = [main].result
