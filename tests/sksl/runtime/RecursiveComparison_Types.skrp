    1. store_src_rg                   coords = src.rg
    2. init_lane_masks                CondMask = LoopMask = RetMask = true
    3. copy_constant                  $0 = colorGreen(0)
    4. copy_constant                  $1 = colorGreen(2)
    5. div_float                      $0 /= $1
    6. copy_slot_unmasked             NAN1 = $0
    7. copy_constant                  $0 = colorGreen(2)
    8. copy_constant                  $1 = colorGreen(0)
    9. div_float                      $0 /= $1
   10. copy_slot_unmasked             NAN2 = $0
   11. copy_constant                  $0 = colorGreen(0)
   12. copy_constant                  $1 = colorGreen(2)
   13. mul_float                      $0 *= $1
   14. copy_slot_unmasked             ZP = $0
   15. zero_slot_unmasked             $0 = 0
   16. copy_constant                  $1 = colorGreen(0)
   17. sub_float                      $0 -= $1
   18. copy_constant                  $1 = colorGreen(2)
   19. mul_float                      $0 *= $1
   20. copy_slot_unmasked             ZM = $0
   21. copy_constant                  $0 = colorGreen(1)
   22. copy_constant                  $1 = 0x42280000 (42.0)
   23. mul_float                      $0 *= $1
   24. copy_slot_unmasked             F42 = $0
   25. copy_constant                  $0 = colorGreen(1)
   26. copy_constant                  $1 = 0x422C0000 (43.0)
   27. mul_float                      $0 *= $1
   28. copy_slot_unmasked             F43 = $0
   29. copy_constant                  $0 = colorGreen(1)
   30. copy_constant                  $1 = 0x42300000 (44.0)
   31. mul_float                      $0 *= $1
   32. copy_slot_unmasked             F44 = $0
   33. copy_constant                  $0 = colorGreen(1)
   34. copy_constant                  $1 = 0x42340000 (45.0)
   35. mul_float                      $0 *= $1
   36. copy_slot_unmasked             F45 = $0
   37. copy_constant                  $0 = colorGreen(1)
   38. copy_constant                  $1 = 0x42380000 (46.0)
   39. mul_float                      $0 *= $1
   40. copy_slot_unmasked             F46 = $0
   41. copy_constant                  $0 = colorGreen(1)
   42. copy_constant                  $1 = 0x423C0000 (47.0)
   43. mul_float                      $0 *= $1
   44. copy_slot_unmasked             F47 = $0
   45. copy_constant                  EQ = 0xFFFFFFFF
   46. zero_slot_unmasked             NE = 0
   47. copy_constant                  $0 = colorGreen(0)
   48. copy_constant                  $1 = 0x3F800000 (1.0)
   49. add_float                      $0 += $1
   50. copy_slot_unmasked             _0_one = $0
   51. zero_4_slots_unmasked          _1_a[0].f1, _1_a[0].v2, _1_a[1].f1 = 0
   52. zero_2_slots_unmasked          _1_a[1].v2 = 0
   53. copy_slot_unmasked             $0 = F42
   54. copy_slot_unmasked             _1_a[0].f1 = $0
   55. copy_slot_unmasked             $0 = ZM
   56. copy_slot_unmasked             $1 = ZP
   57. copy_2_slots_unmasked          _1_a[0].v2 = $0..1
   58. copy_slot_unmasked             $0 = F43
   59. copy_slot_unmasked             _1_a[1].f1 = $0
   60. copy_2_slots_unmasked          $0..1 = F44, F45
   61. copy_2_slots_unmasked          _1_a[1].v2 = $0..1
   62. zero_4_slots_unmasked          _2_b[0].f1, _2_b[0].v2, _2_b[1].f1 = 0
   63. zero_2_slots_unmasked          _2_b[1].v2 = 0
   64. copy_slot_unmasked             $0 = F42
   65. copy_slot_unmasked             $1 = _0_one
   66. mul_float                      $0 *= $1
   67. copy_slot_unmasked             _2_b[0].f1 = $0
   68. copy_slot_unmasked             $0 = ZM
   69. copy_slot_unmasked             $1 = _0_one
   70. mul_float                      $0 *= $1
   71. copy_slot_unmasked             $1 = ZP
   72. copy_slot_unmasked             $2 = _0_one
   73. mul_float                      $1 *= $2
   74. copy_2_slots_unmasked          _2_b[0].v2 = $0..1
   75. copy_slot_unmasked             $0 = F43
   76. copy_slot_unmasked             $1 = _0_one
   77. mul_float                      $0 *= $1
   78. copy_slot_unmasked             _2_b[1].f1 = $0
   79. copy_slot_unmasked             $0 = F44
   80. copy_slot_unmasked             $1 = _0_one
   81. mul_float                      $0 *= $1
   82. copy_slot_unmasked             $1 = F45
   83. copy_slot_unmasked             $2 = _0_one
   84. mul_float                      $1 *= $2
   85. copy_2_slots_unmasked          _2_b[1].v2 = $0..1
   86. store_condition_mask           $20 = CondMask
   87. store_condition_mask           $38 = CondMask
   88. store_condition_mask           $47 = CondMask
   89. store_condition_mask           $29 = CondMask
   90. store_condition_mask           $67 = CondMask
   91. store_condition_mask           $56 = CondMask
   92. store_condition_mask           $12 = CondMask
   93. store_condition_mask           $65 = CondMask
   94. copy_slot_unmasked             $66 = EQ
   95. copy_slot_unmasked             $13 = _1_a[0].f1
   96. copy_slot_unmasked             $14 = _2_b[0].f1
   97. cmpne_float                    $13 = notEqual($13, $14)
   98. copy_2_slots_unmasked          $14..15 = _1_a[0].v2
   99. copy_2_slots_unmasked          $16..17 = _2_b[0].v2
  100. cmpne_2_floats                 $14..15 = notEqual($14..15, $16..17)
  101. bitwise_or_int                 $14 |= $15
  102. bitwise_or_int                 $13 |= $14
  103. copy_slot_unmasked             $14 = _1_a[1].f1
  104. copy_slot_unmasked             $15 = _2_b[1].f1
  105. cmpne_float                    $14 = notEqual($14, $15)
  106. copy_2_slots_unmasked          $15..16 = _1_a[1].v2
  107. copy_2_slots_unmasked          $17..18 = _2_b[1].v2
  108. cmpne_2_floats                 $15..16 = notEqual($15..16, $17..18)
  109. bitwise_or_int                 $15 |= $16
  110. bitwise_or_int                 $14 |= $15
  111. bitwise_or_int                 $13 |= $14
  112. merge_condition_mask           CondMask = $65 & $66
  113. branch_if_no_active_lanes      branch_if_no_active_lanes +19 (label 8 at #132)
  114. copy_slot_unmasked             $14 = _1_a[0].f1
  115. copy_slot_unmasked             $15 = _2_b[0].f1
  116. cmpeq_float                    $14 = equal($14, $15)
  117. copy_2_slots_unmasked          $15..16 = _1_a[0].v2
  118. copy_2_slots_unmasked          $17..18 = _2_b[0].v2
  119. cmpeq_2_floats                 $15..16 = equal($15..16, $17..18)
  120. bitwise_and_int                $15 &= $16
  121. bitwise_and_int                $14 &= $15
  122. copy_slot_unmasked             $15 = _1_a[1].f1
  123. copy_slot_unmasked             $16 = _2_b[1].f1
  124. cmpeq_float                    $15 = equal($15, $16)
  125. copy_2_slots_unmasked          $16..17 = _1_a[1].v2
  126. copy_2_slots_unmasked          $18..19 = _2_b[1].v2
  127. cmpeq_2_floats                 $16..17 = equal($16..17, $18..19)
  128. bitwise_and_int                $16 &= $17
  129. bitwise_and_int                $15 &= $16
  130. bitwise_and_int                $14 &= $15
  131. copy_slot_masked               $13 = Mask($14)
  132. label                          label 0x00000008
  133. load_condition_mask            CondMask = $65
  134. zero_slot_unmasked             $57 = 0
  135. merge_condition_mask           CondMask = $12 & $13
  136. branch_if_no_active_lanes      branch_if_no_active_lanes +89 (label 7 at #225)
  137. copy_slot_unmasked             eq = NE
  138. copy_slot_unmasked             f1 = F42
  139. copy_slot_unmasked             v2 = ZM
  140. copy_slot_unmasked             f3 = ZP
  141. copy_3_slots_unmasked          f4, f5, f6 = F43, F44, F45
  142. copy_constant                  $58 = colorGreen(0)
  143. copy_constant                  $59 = 0x3F800000 (1.0)
  144. add_float                      $58 += $59
  145. copy_slot_unmasked             one = $58
  146. zero_4_slots_unmasked          a[0].f1, a[0].v2, a[1].f1 = 0
  147. zero_2_slots_unmasked          a[1].v2 = 0
  148. copy_slot_unmasked             $58 = f1
  149. copy_slot_masked               a[0].f1 = Mask($58)
  150. copy_2_slots_unmasked          $58..59 = v2, f3
  151. copy_2_slots_masked            a[0].v2 = Mask($58..59)
  152. copy_slot_unmasked             $58 = f4
  153. copy_slot_masked               a[1].f1 = Mask($58)
  154. copy_2_slots_unmasked          $58..59 = f5, f6
  155. copy_2_slots_masked            a[1].v2 = Mask($58..59)
  156. zero_4_slots_unmasked          b[0].f1, b[0].v2, b[1].f1 = 0
  157. zero_2_slots_unmasked          b[1].v2 = 0
  158. copy_slot_unmasked             $58 = f1
  159. copy_slot_unmasked             $59 = one
  160. mul_float                      $58 *= $59
  161. copy_slot_masked               b[0].f1 = Mask($58)
  162. copy_slot_unmasked             $58 = v2
  163. copy_slot_unmasked             $59 = one
  164. mul_float                      $58 *= $59
  165. copy_slot_unmasked             $59 = f3
  166. copy_slot_unmasked             $60 = one
  167. mul_float                      $59 *= $60
  168. copy_2_slots_masked            b[0].v2 = Mask($58..59)
  169. copy_slot_unmasked             $58 = f4
  170. copy_slot_unmasked             $59 = one
  171. mul_float                      $58 *= $59
  172. copy_slot_masked               b[1].f1 = Mask($58)
  173. copy_slot_unmasked             $58 = f5
  174. copy_slot_unmasked             $59 = one
  175. mul_float                      $58 *= $59
  176. copy_slot_unmasked             $59 = f6
  177. copy_slot_unmasked             $60 = one
  178. mul_float                      $59 *= $60
  179. copy_2_slots_masked            b[1].v2 = Mask($58..59)
  180. store_condition_mask           $65 = CondMask
  181. copy_slot_unmasked             $66 = eq
  182. copy_slot_unmasked             $58 = a[0].f1
  183. copy_slot_unmasked             $59 = b[0].f1
  184. cmpne_float                    $58 = notEqual($58, $59)
  185. copy_2_slots_unmasked          $59..60 = a[0].v2
  186. copy_2_slots_unmasked          $61..62 = b[0].v2
  187. cmpne_2_floats                 $59..60 = notEqual($59..60, $61..62)
  188. bitwise_or_int                 $59 |= $60
  189. bitwise_or_int                 $58 |= $59
  190. copy_slot_unmasked             $59 = a[1].f1
  191. copy_slot_unmasked             $60 = b[1].f1
  192. cmpne_float                    $59 = notEqual($59, $60)
  193. copy_2_slots_unmasked          $60..61 = a[1].v2
  194. copy_2_slots_unmasked          $62..63 = b[1].v2
  195. cmpne_2_floats                 $60..61 = notEqual($60..61, $62..63)
  196. bitwise_or_int                 $60 |= $61
  197. bitwise_or_int                 $59 |= $60
  198. bitwise_or_int                 $58 |= $59
  199. merge_condition_mask           CondMask = $65 & $66
  200. branch_if_no_active_lanes      branch_if_no_active_lanes +19 (label 10 at #219)
  201. copy_slot_unmasked             $59 = a[0].f1
  202. copy_slot_unmasked             $60 = b[0].f1
  203. cmpeq_float                    $59 = equal($59, $60)
  204. copy_2_slots_unmasked          $60..61 = a[0].v2
  205. copy_2_slots_unmasked          $62..63 = b[0].v2
  206. cmpeq_2_floats                 $60..61 = equal($60..61, $62..63)
  207. bitwise_and_int                $60 &= $61
  208. bitwise_and_int                $59 &= $60
  209. copy_slot_unmasked             $60 = a[1].f1
  210. copy_slot_unmasked             $61 = b[1].f1
  211. cmpeq_float                    $60 = equal($60, $61)
  212. copy_2_slots_unmasked          $61..62 = a[1].v2
  213. copy_2_slots_unmasked          $63..64 = b[1].v2
  214. cmpeq_2_floats                 $61..62 = equal($61..62, $63..64)
  215. bitwise_and_int                $61 &= $62
  216. bitwise_and_int                $60 &= $61
  217. bitwise_and_int                $59 &= $60
  218. copy_slot_masked               $58 = Mask($59)
  219. label                          label 0x0000000A
  220. load_condition_mask            CondMask = $65
  221. copy_slot_masked               [test_same_types].result = Mask($58)
  222. label                          label 0x00000009
  223. bitwise_not_int                $58 = ~$58
  224. copy_slot_masked               $57 = Mask($58)
  225. label                          label 0x00000007
  226. load_condition_mask            CondMask = $12
  227. zero_slot_unmasked             $68 = 0
  228. merge_condition_mask           CondMask = $56 & $57
  229. branch_if_no_active_lanes      branch_if_no_active_lanes +87 (label 6 at #316)
  230. copy_slot_unmasked             eq = NE
  231. copy_slot_unmasked             f1 = F42
  232. copy_2_slots_unmasked          v2, f3 = NAN1, NAN2
  233. copy_3_slots_unmasked          f4, f5, f6 = F43, F44, F45
  234. copy_constant                  $69 = colorGreen(0)
  235. copy_constant                  $70 = 0x3F800000 (1.0)
  236. add_float                      $69 += $70
  237. copy_slot_unmasked             one = $69
  238. zero_4_slots_unmasked          a[0].f1, a[0].v2, a[1].f1 = 0
  239. zero_2_slots_unmasked          a[1].v2 = 0
  240. copy_slot_unmasked             $69 = f1
  241. copy_slot_masked               a[0].f1 = Mask($69)
  242. copy_2_slots_unmasked          $69..70 = v2, f3
  243. copy_2_slots_masked            a[0].v2 = Mask($69..70)
  244. copy_slot_unmasked             $69 = f4
  245. copy_slot_masked               a[1].f1 = Mask($69)
  246. copy_2_slots_unmasked          $69..70 = f5, f6
  247. copy_2_slots_masked            a[1].v2 = Mask($69..70)
  248. zero_4_slots_unmasked          b[0].f1, b[0].v2, b[1].f1 = 0
  249. zero_2_slots_unmasked          b[1].v2 = 0
  250. copy_slot_unmasked             $69 = f1
  251. copy_slot_unmasked             $70 = one
  252. mul_float                      $69 *= $70
  253. copy_slot_masked               b[0].f1 = Mask($69)
  254. copy_slot_unmasked             $69 = v2
  255. copy_slot_unmasked             $70 = one
  256. mul_float                      $69 *= $70
  257. copy_slot_unmasked             $70 = f3
  258. copy_slot_unmasked             $71 = one
  259. mul_float                      $70 *= $71
  260. copy_2_slots_masked            b[0].v2 = Mask($69..70)
  261. copy_slot_unmasked             $69 = f4
  262. copy_slot_unmasked             $70 = one
  263. mul_float                      $69 *= $70
  264. copy_slot_masked               b[1].f1 = Mask($69)
  265. copy_slot_unmasked             $69 = f5
  266. copy_slot_unmasked             $70 = one
  267. mul_float                      $69 *= $70
  268. copy_slot_unmasked             $70 = f6
  269. copy_slot_unmasked             $71 = one
  270. mul_float                      $70 *= $71
  271. copy_2_slots_masked            b[1].v2 = Mask($69..70)
  272. store_condition_mask           $12 = CondMask
  273. copy_slot_unmasked             $13 = eq
  274. copy_slot_unmasked             $69 = a[0].f1
  275. copy_slot_unmasked             $70 = b[0].f1
  276. cmpne_float                    $69 = notEqual($69, $70)
  277. copy_2_slots_unmasked          $70..71 = a[0].v2
  278. copy_2_slots_unmasked          $72..73 = b[0].v2
  279. cmpne_2_floats                 $70..71 = notEqual($70..71, $72..73)
  280. bitwise_or_int                 $70 |= $71
  281. bitwise_or_int                 $69 |= $70
  282. copy_slot_unmasked             $70 = a[1].f1
  283. copy_slot_unmasked             $71 = b[1].f1
  284. cmpne_float                    $70 = notEqual($70, $71)
  285. copy_2_slots_unmasked          $71..72 = a[1].v2
  286. copy_2_slots_unmasked          $73..74 = b[1].v2
  287. cmpne_2_floats                 $71..72 = notEqual($71..72, $73..74)
  288. bitwise_or_int                 $71 |= $72
  289. bitwise_or_int                 $70 |= $71
  290. bitwise_or_int                 $69 |= $70
  291. merge_condition_mask           CondMask = $12 & $13
  292. branch_if_no_active_lanes      branch_if_no_active_lanes +19 (label 12 at #311)
  293. copy_slot_unmasked             $70 = a[0].f1
  294. copy_slot_unmasked             $71 = b[0].f1
  295. cmpeq_float                    $70 = equal($70, $71)
  296. copy_2_slots_unmasked          $71..72 = a[0].v2
  297. copy_2_slots_unmasked          $73..74 = b[0].v2
  298. cmpeq_2_floats                 $71..72 = equal($71..72, $73..74)
  299. bitwise_and_int                $71 &= $72
  300. bitwise_and_int                $70 &= $71
  301. copy_slot_unmasked             $71 = a[1].f1
  302. copy_slot_unmasked             $72 = b[1].f1
  303. cmpeq_float                    $71 = equal($71, $72)
  304. copy_2_slots_unmasked          $72..73 = a[1].v2
  305. copy_2_slots_unmasked          $74..75 = b[1].v2
  306. cmpeq_2_floats                 $72..73 = equal($72..73, $74..75)
  307. bitwise_and_int                $72 &= $73
  308. bitwise_and_int                $71 &= $72
  309. bitwise_and_int                $70 &= $71
  310. copy_slot_masked               $69 = Mask($70)
  311. label                          label 0x0000000C
  312. load_condition_mask            CondMask = $12
  313. copy_slot_masked               [test_same_types].result = Mask($69)
  314. label                          label 0x0000000B
  315. copy_slot_masked               $68 = Mask($69)
  316. label                          label 0x00000006
  317. load_condition_mask            CondMask = $56
  318. zero_slot_unmasked             $30 = 0
  319. merge_condition_mask           CondMask = $67 & $68
  320. branch_if_no_active_lanes      branch_if_no_active_lanes +88 (label 5 at #408)
  321. copy_slot_unmasked             eq = EQ
  322. copy_slot_unmasked             f1 = F42
  323. copy_2_slots_unmasked          v2, f3 = NAN1, NAN2
  324. copy_3_slots_unmasked          f4, f5, f6 = F43, F44, F45
  325. copy_constant                  $31 = colorGreen(0)
  326. copy_constant                  $32 = 0x3F800000 (1.0)
  327. add_float                      $31 += $32
  328. copy_slot_unmasked             one = $31
  329. zero_4_slots_unmasked          a[0].f1, a[0].v2, a[1].f1 = 0
  330. zero_2_slots_unmasked          a[1].v2 = 0
  331. copy_slot_unmasked             $31 = f1
  332. copy_slot_masked               a[0].f1 = Mask($31)
  333. copy_2_slots_unmasked          $31..32 = v2, f3
  334. copy_2_slots_masked            a[0].v2 = Mask($31..32)
  335. copy_slot_unmasked             $31 = f4
  336. copy_slot_masked               a[1].f1 = Mask($31)
  337. copy_2_slots_unmasked          $31..32 = f5, f6
  338. copy_2_slots_masked            a[1].v2 = Mask($31..32)
  339. zero_4_slots_unmasked          b[0].f1, b[0].v2, b[1].f1 = 0
  340. zero_2_slots_unmasked          b[1].v2 = 0
  341. copy_slot_unmasked             $31 = f1
  342. copy_slot_unmasked             $32 = one
  343. mul_float                      $31 *= $32
  344. copy_slot_masked               b[0].f1 = Mask($31)
  345. copy_slot_unmasked             $31 = v2
  346. copy_slot_unmasked             $32 = one
  347. mul_float                      $31 *= $32
  348. copy_slot_unmasked             $32 = f3
  349. copy_slot_unmasked             $33 = one
  350. mul_float                      $32 *= $33
  351. copy_2_slots_masked            b[0].v2 = Mask($31..32)
  352. copy_slot_unmasked             $31 = f4
  353. copy_slot_unmasked             $32 = one
  354. mul_float                      $31 *= $32
  355. copy_slot_masked               b[1].f1 = Mask($31)
  356. copy_slot_unmasked             $31 = f5
  357. copy_slot_unmasked             $32 = one
  358. mul_float                      $31 *= $32
  359. copy_slot_unmasked             $32 = f6
  360. copy_slot_unmasked             $33 = one
  361. mul_float                      $32 *= $33
  362. copy_2_slots_masked            b[1].v2 = Mask($31..32)
  363. store_condition_mask           $56 = CondMask
  364. copy_slot_unmasked             $57 = eq
  365. copy_slot_unmasked             $31 = a[0].f1
  366. copy_slot_unmasked             $32 = b[0].f1
  367. cmpne_float                    $31 = notEqual($31, $32)
  368. copy_2_slots_unmasked          $32..33 = a[0].v2
  369. copy_2_slots_unmasked          $34..35 = b[0].v2
  370. cmpne_2_floats                 $32..33 = notEqual($32..33, $34..35)
  371. bitwise_or_int                 $32 |= $33
  372. bitwise_or_int                 $31 |= $32
  373. copy_slot_unmasked             $32 = a[1].f1
  374. copy_slot_unmasked             $33 = b[1].f1
  375. cmpne_float                    $32 = notEqual($32, $33)
  376. copy_2_slots_unmasked          $33..34 = a[1].v2
  377. copy_2_slots_unmasked          $35..36 = b[1].v2
  378. cmpne_2_floats                 $33..34 = notEqual($33..34, $35..36)
  379. bitwise_or_int                 $33 |= $34
  380. bitwise_or_int                 $32 |= $33
  381. bitwise_or_int                 $31 |= $32
  382. merge_condition_mask           CondMask = $56 & $57
  383. branch_if_no_active_lanes      branch_if_no_active_lanes +19 (label 14 at #402)
  384. copy_slot_unmasked             $32 = a[0].f1
  385. copy_slot_unmasked             $33 = b[0].f1
  386. cmpeq_float                    $32 = equal($32, $33)
  387. copy_2_slots_unmasked          $33..34 = a[0].v2
  388. copy_2_slots_unmasked          $35..36 = b[0].v2
  389. cmpeq_2_floats                 $33..34 = equal($33..34, $35..36)
  390. bitwise_and_int                $33 &= $34
  391. bitwise_and_int                $32 &= $33
  392. copy_slot_unmasked             $33 = a[1].f1
  393. copy_slot_unmasked             $34 = b[1].f1
  394. cmpeq_float                    $33 = equal($33, $34)
  395. copy_2_slots_unmasked          $34..35 = a[1].v2
  396. copy_2_slots_unmasked          $36..37 = b[1].v2
  397. cmpeq_2_floats                 $34..35 = equal($34..35, $36..37)
  398. bitwise_and_int                $34 &= $35
  399. bitwise_and_int                $33 &= $34
  400. bitwise_and_int                $32 &= $33
  401. copy_slot_masked               $31 = Mask($32)
  402. label                          label 0x0000000E
  403. load_condition_mask            CondMask = $56
  404. copy_slot_masked               [test_same_types].result = Mask($31)
  405. label                          label 0x0000000D
  406. bitwise_not_int                $31 = ~$31
  407. copy_slot_masked               $30 = Mask($31)
  408. label                          label 0x00000005
  409. load_condition_mask            CondMask = $67
  410. zero_slot_unmasked             $48 = 0
  411. merge_condition_mask           CondMask = $29 & $30
  412. branch_if_no_active_lanes      branch_if_no_active_lanes +84 (label 4 at #496)
  413. copy_slot_unmasked             eq₁ = NE
  414. copy_4_slots_unmasked          f1₁, v2₁, f3₁, f4₁ = F42, F43, F44, F45
  415. copy_2_slots_unmasked          f5₁, f6₁ = F46, F47
  416. copy_constant                  $49 = colorGreen(0)
  417. copy_constant                  $50 = 0x40000000 (2.0)
  418. add_float                      $49 += $50
  419. copy_slot_unmasked             two = $49
  420. zero_4_slots_unmasked          a[0].f1₁, a[0].v2₁, a[1].f1₁ = 0
  421. zero_2_slots_unmasked          a[1].v2₁ = 0
  422. copy_slot_unmasked             $49 = f1₁
  423. copy_slot_masked               a[0].f1₁ = Mask($49)
  424. copy_2_slots_unmasked          $49..50 = v2₁, f3₁
  425. copy_2_slots_masked            a[0].v2₁ = Mask($49..50)
  426. copy_slot_unmasked             $49 = f4₁
  427. copy_slot_masked               a[1].f1₁ = Mask($49)
  428. copy_2_slots_unmasked          $49..50 = f5₁, f6₁
  429. copy_2_slots_masked            a[1].v2₁ = Mask($49..50)
  430. zero_4_slots_unmasked          b[0].f1₁, b[0].v2₁, b[1].f1₁ = 0
  431. zero_2_slots_unmasked          b[1].v2₁ = 0
  432. copy_slot_unmasked             $49 = f1₁
  433. copy_slot_unmasked             $50 = two
  434. mul_float                      $49 *= $50
  435. copy_slot_masked               b[0].f1₁ = Mask($49)
  436. copy_slot_unmasked             $49 = v2₁
  437. copy_slot_unmasked             $50 = two
  438. mul_float                      $49 *= $50
  439. copy_slot_unmasked             $50 = f3₁
  440. copy_slot_unmasked             $51 = two
  441. mul_float                      $50 *= $51
  442. copy_2_slots_masked            b[0].v2₁ = Mask($49..50)
  443. copy_slot_unmasked             $49 = f4₁
  444. copy_slot_unmasked             $50 = two
  445. mul_float                      $49 *= $50
  446. copy_slot_masked               b[1].f1₁ = Mask($49)
  447. copy_slot_unmasked             $49 = f5₁
  448. copy_slot_unmasked             $50 = two
  449. mul_float                      $49 *= $50
  450. copy_slot_unmasked             $50 = f6₁
  451. copy_2_slots_masked            b[1].v2₁ = Mask($49..50)
  452. store_condition_mask           $67 = CondMask
  453. copy_slot_unmasked             $68 = eq₁
  454. copy_slot_unmasked             $49 = a[0].f1₁
  455. copy_slot_unmasked             $50 = b[0].f1₁
  456. cmpne_float                    $49 = notEqual($49, $50)
  457. copy_2_slots_unmasked          $50..51 = a[0].v2₁
  458. copy_2_slots_unmasked          $52..53 = b[0].v2₁
  459. cmpne_2_floats                 $50..51 = notEqual($50..51, $52..53)
  460. bitwise_or_int                 $50 |= $51
  461. bitwise_or_int                 $49 |= $50
  462. copy_slot_unmasked             $50 = a[1].f1₁
  463. copy_slot_unmasked             $51 = b[1].f1₁
  464. cmpne_float                    $50 = notEqual($50, $51)
  465. copy_2_slots_unmasked          $51..52 = a[1].v2₁
  466. copy_2_slots_unmasked          $53..54 = b[1].v2₁
  467. cmpne_2_floats                 $51..52 = notEqual($51..52, $53..54)
  468. bitwise_or_int                 $51 |= $52
  469. bitwise_or_int                 $50 |= $51
  470. bitwise_or_int                 $49 |= $50
  471. merge_condition_mask           CondMask = $67 & $68
  472. branch_if_no_active_lanes      branch_if_no_active_lanes +19 (label 16 at #491)
  473. copy_slot_unmasked             $50 = a[0].f1₁
  474. copy_slot_unmasked             $51 = b[0].f1₁
  475. cmpeq_float                    $50 = equal($50, $51)
  476. copy_2_slots_unmasked          $51..52 = a[0].v2₁
  477. copy_2_slots_unmasked          $53..54 = b[0].v2₁
  478. cmpeq_2_floats                 $51..52 = equal($51..52, $53..54)
  479. bitwise_and_int                $51 &= $52
  480. bitwise_and_int                $50 &= $51
  481. copy_slot_unmasked             $51 = a[1].f1₁
  482. copy_slot_unmasked             $52 = b[1].f1₁
  483. cmpeq_float                    $51 = equal($51, $52)
  484. copy_2_slots_unmasked          $52..53 = a[1].v2₁
  485. copy_2_slots_unmasked          $54..55 = b[1].v2₁
  486. cmpeq_2_floats                 $52..53 = equal($52..53, $54..55)
  487. bitwise_and_int                $52 &= $53
  488. bitwise_and_int                $51 &= $52
  489. bitwise_and_int                $50 &= $51
  490. copy_slot_masked               $49 = Mask($50)
  491. label                          label 0x00000010
  492. load_condition_mask            CondMask = $67
  493. copy_slot_masked               [test_diff_types].result = Mask($49)
  494. label                          label 0x0000000F
  495. copy_slot_masked               $48 = Mask($49)
  496. label                          label 0x00000004
  497. load_condition_mask            CondMask = $29
  498. zero_slot_unmasked             $39 = 0
  499. merge_condition_mask           CondMask = $47 & $48
  500. branch_if_no_active_lanes      branch_if_no_active_lanes +86 (label 3 at #586)
  501. copy_slot_unmasked             eq₁ = EQ
  502. stack_rewind
  503. copy_4_slots_unmasked          f1₁, v2₁, f3₁, f4₁ = F42, F43, F44, F45
  504. copy_2_slots_unmasked          f5₁, f6₁ = F46, F47
  505. copy_constant                  $40 = colorGreen(0)
  506. copy_constant                  $41 = 0x40000000 (2.0)
  507. add_float                      $40 += $41
  508. copy_slot_unmasked             two = $40
  509. zero_4_slots_unmasked          a[0].f1₁, a[0].v2₁, a[1].f1₁ = 0
  510. zero_2_slots_unmasked          a[1].v2₁ = 0
  511. copy_slot_unmasked             $40 = f1₁
  512. copy_slot_masked               a[0].f1₁ = Mask($40)
  513. copy_2_slots_unmasked          $40..41 = v2₁, f3₁
  514. copy_2_slots_masked            a[0].v2₁ = Mask($40..41)
  515. copy_slot_unmasked             $40 = f4₁
  516. copy_slot_masked               a[1].f1₁ = Mask($40)
  517. copy_2_slots_unmasked          $40..41 = f5₁, f6₁
  518. copy_2_slots_masked            a[1].v2₁ = Mask($40..41)
  519. zero_4_slots_unmasked          b[0].f1₁, b[0].v2₁, b[1].f1₁ = 0
  520. zero_2_slots_unmasked          b[1].v2₁ = 0
  521. copy_slot_unmasked             $40 = f1₁
  522. copy_slot_unmasked             $41 = two
  523. mul_float                      $40 *= $41
  524. copy_slot_masked               b[0].f1₁ = Mask($40)
  525. copy_slot_unmasked             $40 = v2₁
  526. copy_slot_unmasked             $41 = two
  527. mul_float                      $40 *= $41
  528. copy_slot_unmasked             $41 = f3₁
  529. copy_slot_unmasked             $42 = two
  530. mul_float                      $41 *= $42
  531. copy_2_slots_masked            b[0].v2₁ = Mask($40..41)
  532. copy_slot_unmasked             $40 = f4₁
  533. copy_slot_unmasked             $41 = two
  534. mul_float                      $40 *= $41
  535. copy_slot_masked               b[1].f1₁ = Mask($40)
  536. copy_slot_unmasked             $40 = f5₁
  537. copy_slot_unmasked             $41 = two
  538. mul_float                      $40 *= $41
  539. copy_slot_unmasked             $41 = f6₁
  540. copy_2_slots_masked            b[1].v2₁ = Mask($40..41)
  541. store_condition_mask           $29 = CondMask
  542. copy_slot_unmasked             $30 = eq₁
  543. copy_slot_unmasked             $40 = a[0].f1₁
  544. copy_slot_unmasked             $41 = b[0].f1₁
  545. cmpne_float                    $40 = notEqual($40, $41)
  546. copy_2_slots_unmasked          $41..42 = a[0].v2₁
  547. copy_2_slots_unmasked          $43..44 = b[0].v2₁
  548. cmpne_2_floats                 $41..42 = notEqual($41..42, $43..44)
  549. bitwise_or_int                 $41 |= $42
  550. bitwise_or_int                 $40 |= $41
  551. copy_slot_unmasked             $41 = a[1].f1₁
  552. copy_slot_unmasked             $42 = b[1].f1₁
  553. cmpne_float                    $41 = notEqual($41, $42)
  554. copy_2_slots_unmasked          $42..43 = a[1].v2₁
  555. copy_2_slots_unmasked          $44..45 = b[1].v2₁
  556. cmpne_2_floats                 $42..43 = notEqual($42..43, $44..45)
  557. bitwise_or_int                 $42 |= $43
  558. bitwise_or_int                 $41 |= $42
  559. bitwise_or_int                 $40 |= $41
  560. merge_condition_mask           CondMask = $29 & $30
  561. branch_if_no_active_lanes      branch_if_no_active_lanes +19 (label 18 at #580)
  562. copy_slot_unmasked             $41 = a[0].f1₁
  563. copy_slot_unmasked             $42 = b[0].f1₁
  564. cmpeq_float                    $41 = equal($41, $42)
  565. copy_2_slots_unmasked          $42..43 = a[0].v2₁
  566. copy_2_slots_unmasked          $44..45 = b[0].v2₁
  567. cmpeq_2_floats                 $42..43 = equal($42..43, $44..45)
  568. bitwise_and_int                $42 &= $43
  569. bitwise_and_int                $41 &= $42
  570. copy_slot_unmasked             $42 = a[1].f1₁
  571. copy_slot_unmasked             $43 = b[1].f1₁
  572. cmpeq_float                    $42 = equal($42, $43)
  573. copy_2_slots_unmasked          $43..44 = a[1].v2₁
  574. copy_2_slots_unmasked          $45..46 = b[1].v2₁
  575. cmpeq_2_floats                 $43..44 = equal($43..44, $45..46)
  576. bitwise_and_int                $43 &= $44
  577. bitwise_and_int                $42 &= $43
  578. bitwise_and_int                $41 &= $42
  579. copy_slot_masked               $40 = Mask($41)
  580. label                          label 0x00000012
  581. load_condition_mask            CondMask = $29
  582. copy_slot_masked               [test_diff_types].result = Mask($40)
  583. label                          label 0x00000011
  584. bitwise_not_int                $40 = ~$40
  585. copy_slot_masked               $39 = Mask($40)
  586. label                          label 0x00000003
  587. load_condition_mask            CondMask = $47
  588. zero_slot_unmasked             $21 = 0
  589. merge_condition_mask           CondMask = $38 & $39
  590. branch_if_no_active_lanes      branch_if_no_active_lanes +86 (label 2 at #676)
  591. copy_slot_unmasked             eq₁ = NE
  592. copy_slot_unmasked             f1₁ = NAN1
  593. copy_slot_unmasked             v2₁ = ZM
  594. copy_slot_unmasked             f3₁ = ZP
  595. copy_3_slots_unmasked          f4₁, f5₁, f6₁ = F42, F43, F44
  596. copy_constant                  $22 = colorGreen(0)
  597. copy_constant                  $23 = 0x40000000 (2.0)
  598. add_float                      $22 += $23
  599. copy_slot_unmasked             two = $22
  600. zero_4_slots_unmasked          a[0].f1₁, a[0].v2₁, a[1].f1₁ = 0
  601. zero_2_slots_unmasked          a[1].v2₁ = 0
  602. copy_slot_unmasked             $22 = f1₁
  603. copy_slot_masked               a[0].f1₁ = Mask($22)
  604. copy_2_slots_unmasked          $22..23 = v2₁, f3₁
  605. copy_2_slots_masked            a[0].v2₁ = Mask($22..23)
  606. copy_slot_unmasked             $22 = f4₁
  607. copy_slot_masked               a[1].f1₁ = Mask($22)
  608. copy_2_slots_unmasked          $22..23 = f5₁, f6₁
  609. copy_2_slots_masked            a[1].v2₁ = Mask($22..23)
  610. zero_4_slots_unmasked          b[0].f1₁, b[0].v2₁, b[1].f1₁ = 0
  611. zero_2_slots_unmasked          b[1].v2₁ = 0
  612. copy_slot_unmasked             $22 = f1₁
  613. copy_slot_unmasked             $23 = two
  614. mul_float                      $22 *= $23
  615. copy_slot_masked               b[0].f1₁ = Mask($22)
  616. copy_slot_unmasked             $22 = v2₁
  617. copy_slot_unmasked             $23 = two
  618. mul_float                      $22 *= $23
  619. copy_slot_unmasked             $23 = f3₁
  620. copy_slot_unmasked             $24 = two
  621. mul_float                      $23 *= $24
  622. copy_2_slots_masked            b[0].v2₁ = Mask($22..23)
  623. copy_slot_unmasked             $22 = f4₁
  624. copy_slot_unmasked             $23 = two
  625. mul_float                      $22 *= $23
  626. copy_slot_masked               b[1].f1₁ = Mask($22)
  627. copy_slot_unmasked             $22 = f5₁
  628. copy_slot_unmasked             $23 = two
  629. mul_float                      $22 *= $23
  630. copy_slot_unmasked             $23 = f6₁
  631. copy_2_slots_masked            b[1].v2₁ = Mask($22..23)
  632. store_condition_mask           $47 = CondMask
  633. copy_slot_unmasked             $48 = eq₁
  634. copy_slot_unmasked             $22 = a[0].f1₁
  635. copy_slot_unmasked             $23 = b[0].f1₁
  636. cmpne_float                    $22 = notEqual($22, $23)
  637. copy_2_slots_unmasked          $23..24 = a[0].v2₁
  638. copy_2_slots_unmasked          $25..26 = b[0].v2₁
  639. cmpne_2_floats                 $23..24 = notEqual($23..24, $25..26)
  640. bitwise_or_int                 $23 |= $24
  641. bitwise_or_int                 $22 |= $23
  642. copy_slot_unmasked             $23 = a[1].f1₁
  643. copy_slot_unmasked             $24 = b[1].f1₁
  644. cmpne_float                    $23 = notEqual($23, $24)
  645. copy_2_slots_unmasked          $24..25 = a[1].v2₁
  646. copy_2_slots_unmasked          $26..27 = b[1].v2₁
  647. cmpne_2_floats                 $24..25 = notEqual($24..25, $26..27)
  648. bitwise_or_int                 $24 |= $25
  649. bitwise_or_int                 $23 |= $24
  650. bitwise_or_int                 $22 |= $23
  651. merge_condition_mask           CondMask = $47 & $48
  652. branch_if_no_active_lanes      branch_if_no_active_lanes +19 (label 20 at #671)
  653. copy_slot_unmasked             $23 = a[0].f1₁
  654. copy_slot_unmasked             $24 = b[0].f1₁
  655. cmpeq_float                    $23 = equal($23, $24)
  656. copy_2_slots_unmasked          $24..25 = a[0].v2₁
  657. copy_2_slots_unmasked          $26..27 = b[0].v2₁
  658. cmpeq_2_floats                 $24..25 = equal($24..25, $26..27)
  659. bitwise_and_int                $24 &= $25
  660. bitwise_and_int                $23 &= $24
  661. copy_slot_unmasked             $24 = a[1].f1₁
  662. copy_slot_unmasked             $25 = b[1].f1₁
  663. cmpeq_float                    $24 = equal($24, $25)
  664. copy_2_slots_unmasked          $25..26 = a[1].v2₁
  665. copy_2_slots_unmasked          $27..28 = b[1].v2₁
  666. cmpeq_2_floats                 $25..26 = equal($25..26, $27..28)
  667. bitwise_and_int                $25 &= $26
  668. bitwise_and_int                $24 &= $25
  669. bitwise_and_int                $23 &= $24
  670. copy_slot_masked               $22 = Mask($23)
  671. label                          label 0x00000014
  672. load_condition_mask            CondMask = $47
  673. copy_slot_masked               [test_diff_types].result = Mask($22)
  674. label                          label 0x00000013
  675. copy_slot_masked               $21 = Mask($22)
  676. label                          label 0x00000002
  677. load_condition_mask            CondMask = $38
  678. zero_slot_unmasked             $0 = 0
  679. merge_condition_mask           CondMask = $20 & $21
  680. branch_if_no_active_lanes      branch_if_no_active_lanes +87 (label 1 at #767)
  681. copy_slot_unmasked             eq₁ = EQ
  682. copy_slot_unmasked             f1₁ = NAN1
  683. copy_slot_unmasked             v2₁ = ZM
  684. copy_slot_unmasked             f3₁ = ZP
  685. copy_3_slots_unmasked          f4₁, f5₁, f6₁ = F42, F43, F44
  686. copy_constant                  $1 = colorGreen(0)
  687. copy_constant                  $2 = 0x40000000 (2.0)
  688. add_float                      $1 += $2
  689. copy_slot_unmasked             two = $1
  690. zero_4_slots_unmasked          a[0].f1₁, a[0].v2₁, a[1].f1₁ = 0
  691. zero_2_slots_unmasked          a[1].v2₁ = 0
  692. copy_slot_unmasked             $1 = f1₁
  693. copy_slot_masked               a[0].f1₁ = Mask($1)
  694. copy_2_slots_unmasked          $1..2 = v2₁, f3₁
  695. copy_2_slots_masked            a[0].v2₁ = Mask($1..2)
  696. copy_slot_unmasked             $1 = f4₁
  697. copy_slot_masked               a[1].f1₁ = Mask($1)
  698. copy_2_slots_unmasked          $1..2 = f5₁, f6₁
  699. copy_2_slots_masked            a[1].v2₁ = Mask($1..2)
  700. zero_4_slots_unmasked          b[0].f1₁, b[0].v2₁, b[1].f1₁ = 0
  701. zero_2_slots_unmasked          b[1].v2₁ = 0
  702. copy_slot_unmasked             $1 = f1₁
  703. copy_slot_unmasked             $2 = two
  704. mul_float                      $1 *= $2
  705. copy_slot_masked               b[0].f1₁ = Mask($1)
  706. copy_slot_unmasked             $1 = v2₁
  707. copy_slot_unmasked             $2 = two
  708. mul_float                      $1 *= $2
  709. copy_slot_unmasked             $2 = f3₁
  710. copy_slot_unmasked             $3 = two
  711. mul_float                      $2 *= $3
  712. copy_2_slots_masked            b[0].v2₁ = Mask($1..2)
  713. copy_slot_unmasked             $1 = f4₁
  714. copy_slot_unmasked             $2 = two
  715. mul_float                      $1 *= $2
  716. copy_slot_masked               b[1].f1₁ = Mask($1)
  717. copy_slot_unmasked             $1 = f5₁
  718. copy_slot_unmasked             $2 = two
  719. mul_float                      $1 *= $2
  720. copy_slot_unmasked             $2 = f6₁
  721. copy_2_slots_masked            b[1].v2₁ = Mask($1..2)
  722. store_condition_mask           $38 = CondMask
  723. copy_slot_unmasked             $39 = eq₁
  724. copy_slot_unmasked             $1 = a[0].f1₁
  725. copy_slot_unmasked             $2 = b[0].f1₁
  726. cmpne_float                    $1 = notEqual($1, $2)
  727. copy_2_slots_unmasked          $2..3 = a[0].v2₁
  728. copy_2_slots_unmasked          $4..5 = b[0].v2₁
  729. cmpne_2_floats                 $2..3 = notEqual($2..3, $4..5)
  730. bitwise_or_int                 $2 |= $3
  731. bitwise_or_int                 $1 |= $2
  732. copy_slot_unmasked             $2 = a[1].f1₁
  733. copy_slot_unmasked             $3 = b[1].f1₁
  734. cmpne_float                    $2 = notEqual($2, $3)
  735. copy_2_slots_unmasked          $3..4 = a[1].v2₁
  736. copy_2_slots_unmasked          $5..6 = b[1].v2₁
  737. cmpne_2_floats                 $3..4 = notEqual($3..4, $5..6)
  738. bitwise_or_int                 $3 |= $4
  739. bitwise_or_int                 $2 |= $3
  740. bitwise_or_int                 $1 |= $2
  741. merge_condition_mask           CondMask = $38 & $39
  742. branch_if_no_active_lanes      branch_if_no_active_lanes +19 (label 22 at #761)
  743. copy_slot_unmasked             $2 = a[0].f1₁
  744. copy_slot_unmasked             $3 = b[0].f1₁
  745. cmpeq_float                    $2 = equal($2, $3)
  746. copy_2_slots_unmasked          $3..4 = a[0].v2₁
  747. copy_2_slots_unmasked          $5..6 = b[0].v2₁
  748. cmpeq_2_floats                 $3..4 = equal($3..4, $5..6)
  749. bitwise_and_int                $3 &= $4
  750. bitwise_and_int                $2 &= $3
  751. copy_slot_unmasked             $3 = a[1].f1₁
  752. copy_slot_unmasked             $4 = b[1].f1₁
  753. cmpeq_float                    $3 = equal($3, $4)
  754. copy_2_slots_unmasked          $4..5 = a[1].v2₁
  755. copy_2_slots_unmasked          $6..7 = b[1].v2₁
  756. cmpeq_2_floats                 $4..5 = equal($4..5, $6..7)
  757. bitwise_and_int                $4 &= $5
  758. bitwise_and_int                $3 &= $4
  759. bitwise_and_int                $2 &= $3
  760. copy_slot_masked               $1 = Mask($2)
  761. label                          label 0x00000016
  762. load_condition_mask            CondMask = $38
  763. copy_slot_masked               [test_diff_types].result = Mask($1)
  764. label                          label 0x00000015
  765. bitwise_not_int                $1 = ~$1
  766. copy_slot_masked               $0 = Mask($1)
  767. label                          label 0x00000001
  768. load_condition_mask            CondMask = $20
  769. swizzle_4                      $0..3 = ($0..3).xxxx
  770. copy_4_constants               $4..7 = colorRed
  771. copy_4_constants               $8..11 = colorGreen
  772. mix_4_ints                     $0..3 = mix($4..7, $8..11, $0..3)
  773. copy_4_slots_unmasked          [main].result = $0..3
  774. load_src                       src.rgba = [main].result
