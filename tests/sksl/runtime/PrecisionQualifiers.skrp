    1. store_src_rg                   coords = src.rg
    2. init_lane_masks                CondMask = LoopMask = RetMask = true
    3. zero_slot_unmasked             $0 = 0
    4. swizzle_4                      $0..3 = ($0..3).xxxx
    5. copy_4_slots_unmasked          zero = $0..3
    6. copy_constant                  $0 = 0x3F800000 (1.0)
    7. swizzle_4                      $0..3 = ($0..3).xxxx
    8. copy_4_slots_unmasked          one = $0..3
    9. copy_4_constants               $0..3 = colorGreen
   10. copy_4_slots_unmasked          green = $0..3
   11. copy_4_slots_unmasked          $4..7 = one
   12. mul_4_floats                   $0..3 *= $4..7
   13. copy_4_slots_unmasked          $4..7 = zero
   14. add_4_floats                   $0..3 += $4..7
   15. copy_4_slots_masked            green = Mask($0..3)
   16. copy_4_constants               $0..3 = colorRed
   17. copy_4_slots_unmasked          red = $0..3
   18. copy_4_slots_unmasked          $4..7 = zero
   19. add_4_floats                   $0..3 += $4..7
   20. copy_4_slots_unmasked          $4..7 = one
   21. mul_4_floats                   $0..3 *= $4..7
   22. copy_4_slots_masked            red = Mask($0..3)
   23. store_condition_mask           $13 = CondMask
   24. store_condition_mask           $26 = CondMask
   25. store_condition_mask           $31 = CondMask
   26. store_condition_mask           $18 = CondMask
   27. store_condition_mask           $48 = CondMask
   28. store_condition_mask           $36 = CondMask
   29. store_condition_mask           $8 = CondMask
   30. branch_if_no_active_lanes      branch_if_no_active_lanes +17 (#47)
   31. store_return_mask              $9 = RetMask
   32. copy_constant                  $10 = 0x3F000000 (0.5)
   33. copy_slot_unmasked             mp = $10
   34. copy_slot_unmasked             hp = $10
   35. copy_constant                  $10 = 0x00000002 (2.802597e-45)
   36. copy_slot_unmasked             ihp = $10
   37. copy_slot_unmasked             imp = $10
   38. copy_2_slots_unmasked          $10..11 = mp(0..1)
   39. cmpeq_float                    $10 = equal($10, $11)
   40. copy_2_slots_unmasked          $11..12 = ihp(0..1)
   41. cmpeq_int                      $11 = equal($11, $12)
   42. bitwise_and_int                $10 &= $11
   43. copy_slot_masked               [test_scalar].result = Mask($10)
   44. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
   45. load_return_mask               RetMask = $9
   46. copy_slot_unmasked             $9 = [test_scalar].result
   47. zero_slot_unmasked             $37 = 0
   48. merge_condition_mask           CondMask = $8 & $9
   49. branch_if_no_active_lanes      branch_if_no_active_lanes +63 (#112)
   50. store_return_mask              $38 = RetMask
   51. copy_constant                  $39 = 0x40000000 (2.0)
   52. copy_slot_unmasked             $40 = $39
   53. copy_2_slots_unmasked          mp2 = $39..40
   54. copy_2_slots_unmasked          hp2 = $39..40
   55. copy_constant                  $39 = 0x40400000 (3.0)
   56. swizzle_3                      $39..41 = ($39..41).xxx
   57. copy_3_slots_unmasked          mp3 = $39..41
   58. copy_3_slots_unmasked          hp3 = $39..41
   59. copy_constant                  $39 = 0x40800000 (4.0)
   60. swizzle_4                      $39..42 = ($39..42).xxxx
   61. copy_4_slots_unmasked          mp4 = $39..42
   62. copy_4_slots_unmasked          hp4 = $39..42
   63. copy_constant                  $39 = 0x00000002 (2.802597e-45)
   64. copy_slot_unmasked             $40 = $39
   65. copy_2_slots_unmasked          ihp2 = $39..40
   66. copy_2_slots_unmasked          imp2 = $39..40
   67. copy_constant                  $39 = 0x00000003 (4.203895e-45)
   68. swizzle_3                      $39..41 = ($39..41).xxx
   69. copy_3_slots_unmasked          ihp3 = $39..41
   70. copy_3_slots_unmasked          imp3 = $39..41
   71. copy_constant                  $39 = 0x00000004 (5.605194e-45)
   72. swizzle_4                      $39..42 = ($39..42).xxxx
   73. copy_4_slots_unmasked          ihp4 = $39..42
   74. copy_4_slots_unmasked          imp4 = $39..42
   75. copy_4_slots_unmasked          $39..42 = mp2(0..3)
   76. cmpeq_2_floats                 $39..40 = equal($39..40, $41..42)
   77. bitwise_and_int                $39 &= $40
   78. copy_3_slots_unmasked          $40..42 = hp3
   79. copy_3_slots_unmasked          $43..45 = mp3
   80. cmpeq_3_floats                 $40..42 = equal($40..42, $43..45)
   81. bitwise_and_int                $41 &= $42
   82. bitwise_and_int                $40 &= $41
   83. bitwise_and_int                $39 &= $40
   84. copy_4_slots_unmasked          $40..43 = mp4
   85. copy_4_slots_unmasked          $44..47 = hp4
   86. cmpeq_4_floats                 $40..43 = equal($40..43, $44..47)
   87. bitwise_and_2_ints             $40..41 &= $42..43
   88. bitwise_and_int                $40 &= $41
   89. bitwise_and_int                $39 &= $40
   90. copy_2_slots_unmasked          $40..41 = imp2
   91. copy_2_slots_unmasked          $42..43 = ihp2
   92. cmpeq_2_ints                   $40..41 = equal($40..41, $42..43)
   93. bitwise_and_int                $40 &= $41
   94. bitwise_and_int                $39 &= $40
   95. copy_4_slots_unmasked          $40..43 = ihp3(0..3)
   96. copy_2_slots_unmasked          $44..45 = imp3(1..2)
   97. cmpeq_3_ints                   $40..42 = equal($40..42, $43..45)
   98. bitwise_and_int                $41 &= $42
   99. bitwise_and_int                $40 &= $41
  100. bitwise_and_int                $39 &= $40
  101. copy_4_slots_unmasked          $40..43 = imp4
  102. copy_4_slots_unmasked          $44..47 = ihp4
  103. cmpeq_4_ints                   $40..43 = equal($40..43, $44..47)
  104. bitwise_and_2_ints             $40..41 &= $42..43
  105. bitwise_and_int                $40 &= $41
  106. bitwise_and_int                $39 &= $40
  107. copy_slot_masked               [test_vector].result = Mask($39)
  108. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  109. load_return_mask               RetMask = $38
  110. copy_slot_unmasked             $38 = [test_vector].result
  111. copy_slot_masked               $37 = Mask($38)
  112. load_condition_mask            CondMask = $8
  113. zero_slot_unmasked             $49 = 0
  114. merge_condition_mask           CondMask = $36 & $37
  115. branch_if_no_active_lanes      branch_if_no_active_lanes +64 (#179)
  116. store_return_mask              $50 = RetMask
  117. zero_slot_unmasked             $51 = 0
  118. copy_constant                  $52 = 0x40000000 (2.0)
  119. swizzle_4                      $51..54 = ($51..54).yxxy
  120. copy_4_slots_unmasked          mp2 = $51..54
  121. copy_4_slots_unmasked          hp2 = $51..54
  122. zero_slot_unmasked             $51 = 0
  123. copy_constant                  $52 = 0x40400000 (3.0)
  124. shuffle                        $51..59 = ($51..59)[1 0 0 0 1 0 0 0 1]
  125. copy_4_slots_unmasked          mp3(0..3) = $51..54
  126. copy_4_slots_unmasked          mp3(4..7) = $55..58
  127. copy_slot_unmasked             mp3(8) = $59
  128. copy_4_slots_unmasked          hp3(0..3) = $51..54
  129. copy_4_slots_unmasked          hp3(4..7) = $55..58
  130. copy_slot_unmasked             hp3(8) = $59
  131. zero_slot_unmasked             $51 = 0
  132. copy_constant                  $52 = 0x40800000 (4.0)
  133. shuffle                        $51..66 = ($51..66)[1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1]
  134. copy_4_slots_unmasked          mp4(0..3) = $51..54
  135. copy_4_slots_unmasked          mp4(4..7) = $55..58
  136. copy_4_slots_unmasked          mp4(8..11) = $59..62
  137. copy_4_slots_unmasked          mp4(12..15) = $63..66
  138. copy_4_slots_unmasked          hp4(0..3) = $51..54
  139. copy_4_slots_unmasked          hp4(4..7) = $55..58
  140. copy_4_slots_unmasked          hp4(8..11) = $59..62
  141. copy_4_slots_unmasked          hp4(12..15) = $63..66
  142. copy_4_slots_unmasked          $51..54 = mp2
  143. copy_4_slots_unmasked          $55..58 = hp2
  144. cmpeq_4_floats                 $51..54 = equal($51..54, $55..58)
  145. bitwise_and_2_ints             $51..52 &= $53..54
  146. bitwise_and_int                $51 &= $52
  147. copy_4_slots_unmasked          $52..55 = hp3(0..3)
  148. copy_4_slots_unmasked          $56..59 = hp3(4..7)
  149. copy_slot_unmasked             $60 = hp3(8)
  150. copy_4_slots_unmasked          $61..64 = mp3(0..3)
  151. copy_4_slots_unmasked          $65..68 = mp3(4..7)
  152. copy_slot_unmasked             $69 = mp3(8)
  153. cmpeq_n_floats                 $52..60 = equal($52..60, $61..69)
  154. bitwise_and_4_ints             $53..56 &= $57..60
  155. bitwise_and_2_ints             $53..54 &= $55..56
  156. bitwise_and_int                $53 &= $54
  157. bitwise_and_int                $52 &= $53
  158. bitwise_and_int                $51 &= $52
  159. copy_4_slots_unmasked          $52..55 = mp4(0..3)
  160. copy_4_slots_unmasked          $56..59 = mp4(4..7)
  161. copy_4_slots_unmasked          $60..63 = mp4(8..11)
  162. copy_4_slots_unmasked          $64..67 = mp4(12..15)
  163. copy_4_slots_unmasked          $68..71 = hp4(0..3)
  164. copy_4_slots_unmasked          $72..75 = hp4(4..7)
  165. copy_4_slots_unmasked          $76..79 = hp4(8..11)
  166. copy_4_slots_unmasked          $80..83 = hp4(12..15)
  167. cmpeq_n_floats                 $52..67 = equal($52..67, $68..83)
  168. bitwise_and_4_ints             $60..63 &= $64..67
  169. bitwise_and_4_ints             $56..59 &= $60..63
  170. bitwise_and_4_ints             $52..55 &= $56..59
  171. bitwise_and_2_ints             $52..53 &= $54..55
  172. bitwise_and_int                $52 &= $53
  173. bitwise_and_int                $51 &= $52
  174. copy_slot_masked               [test_matrix].result = Mask($51)
  175. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  176. load_return_mask               RetMask = $50
  177. copy_slot_unmasked             $50 = [test_matrix].result
  178. copy_slot_masked               $49 = Mask($50)
  179. load_condition_mask            CondMask = $36
  180. zero_slot_unmasked             $19 = 0
  181. merge_condition_mask           CondMask = $48 & $49
  182. branch_if_no_active_lanes      branch_if_no_active_lanes +39 (#221)
  183. store_return_mask              $20 = RetMask
  184. zero_slot_unmasked             mf[0] = 0
  185. copy_constant                  $21 = 0x3F800000 (1.0)
  186. copy_slot_masked               mf[0] = Mask($21)
  187. zero_slot_unmasked             hf[0] = 0
  188. copy_constant                  $21 = 0x3F800000 (1.0)
  189. copy_slot_masked               hf[0] = Mask($21)
  190. zero_4_slots_unmasked          mv[0](0..3) = 0
  191. zero_slot_unmasked             $21 = 0
  192. copy_constant                  $22 = 0x3F800000 (1.0)
  193. copy_2_slots_masked            mv[0] = Mask($21..22)
  194. copy_constant                  $21 = 0x40000000 (2.0)
  195. copy_constant                  $22 = 0x40400000 (3.0)
  196. copy_2_slots_masked            mv[1] = Mask($21..22)
  197. zero_4_slots_unmasked          hv[0](0..3) = 0
  198. zero_slot_unmasked             $21 = 0
  199. copy_constant                  $22 = 0x3F800000 (1.0)
  200. copy_2_slots_masked            hv[0] = Mask($21..22)
  201. copy_constant                  $21 = 0x40000000 (2.0)
  202. copy_constant                  $22 = 0x40400000 (3.0)
  203. copy_2_slots_masked            hv[1] = Mask($21..22)
  204. copy_2_slots_unmasked          $21..22 = mf[0](0..1)
  205. cmpeq_float                    $21 = equal($21, $22)
  206. copy_2_slots_unmasked          $22..23 = hv[0]
  207. copy_2_slots_unmasked          $24..25 = mv[0]
  208. cmpeq_2_floats                 $22..23 = equal($22..23, $24..25)
  209. bitwise_and_int                $22 &= $23
  210. bitwise_and_int                $21 &= $22
  211. copy_2_slots_unmasked          $22..23 = mv[1]
  212. copy_2_slots_unmasked          $24..25 = hv[1]
  213. cmpeq_2_floats                 $22..23 = equal($22..23, $24..25)
  214. bitwise_and_int                $22 &= $23
  215. bitwise_and_int                $21 &= $22
  216. copy_slot_masked               [test_array].result = Mask($21)
  217. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  218. load_return_mask               RetMask = $20
  219. copy_slot_unmasked             $20 = [test_array].result
  220. copy_slot_masked               $19 = Mask($20)
  221. load_condition_mask            CondMask = $48
  222. zero_slot_unmasked             $32 = 0
  223. merge_condition_mask           CondMask = $18 & $19
  224. branch_if_no_active_lanes      branch_if_no_active_lanes +11 (#235)
  225. store_return_mask              $33 = RetMask
  226. copy_constant                  $34 = 0x3F800000 (1.0)
  227. copy_slot_unmasked             value = $34
  228. copy_constant                  $35 = 0x3F800000 (1.0)
  229. cmpeq_float                    $34 = equal($34, $35)
  230. copy_slot_masked               [highp_param].result = Mask($34)
  231. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  232. load_return_mask               RetMask = $33
  233. copy_slot_unmasked             $33 = [highp_param].result
  234. copy_slot_masked               $32 = Mask($33)
  235. load_condition_mask            CondMask = $18
  236. zero_slot_unmasked             $27 = 0
  237. merge_condition_mask           CondMask = $31 & $32
  238. branch_if_no_active_lanes      branch_if_no_active_lanes +11 (#249)
  239. store_return_mask              $28 = RetMask
  240. copy_constant                  $29 = 0x40000000 (2.0)
  241. copy_slot_unmasked             value = $29
  242. copy_constant                  $30 = 0x40000000 (2.0)
  243. cmpeq_float                    $29 = equal($29, $30)
  244. copy_slot_masked               [mediump_param].result = Mask($29)
  245. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  246. load_return_mask               RetMask = $28
  247. copy_slot_unmasked             $28 = [mediump_param].result
  248. copy_slot_masked               $27 = Mask($28)
  249. load_condition_mask            CondMask = $31
  250. zero_slot_unmasked             $14 = 0
  251. merge_condition_mask           CondMask = $26 & $27
  252. branch_if_no_active_lanes      branch_if_no_active_lanes +11 (#263)
  253. store_return_mask              $15 = RetMask
  254. copy_constant                  $16 = 0x40400000 (3.0)
  255. copy_slot_unmasked             value = $16
  256. copy_constant                  $17 = 0x40400000 (3.0)
  257. cmpeq_float                    $16 = equal($16, $17)
  258. copy_slot_masked               [lowp_param].result = Mask($16)
  259. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  260. load_return_mask               RetMask = $15
  261. copy_slot_unmasked             $15 = [lowp_param].result
  262. copy_slot_masked               $14 = Mask($15)
  263. load_condition_mask            CondMask = $26
  264. copy_4_slots_unmasked          $0..3 = red
  265. merge_condition_mask           CondMask = $13 & $14
  266. copy_4_slots_unmasked          $4..7 = green
  267. copy_4_slots_masked            $0..3 = Mask($4..7)
  268. load_condition_mask            CondMask = $13
  269. copy_4_slots_masked            [main].result = Mask($0..3)
  270. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  271. load_src                       src.rgba = [main].result
