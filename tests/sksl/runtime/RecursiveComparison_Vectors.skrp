    1. store_src_rg                   coords = src.rg
    2. init_lane_masks                CondMask = LoopMask = RetMask = true
    3. copy_constant                  $0 = colorGreen(0)
    4. copy_constant                  $1 = colorGreen(2)
    5. div_float                      $0 /= $1
    6. copy_slot_unmasked             NAN1 = $0
    7. copy_constant                  $0 = colorGreen(2)
    8. copy_constant                  $1 = colorGreen(0)
    9. div_float                      $0 /= $1
   10. copy_slot_unmasked             NAN2 = $0
   11. copy_constant                  $0 = colorGreen(0)
   12. copy_constant                  $1 = colorGreen(2)
   13. mul_float                      $0 *= $1
   14. copy_slot_unmasked             ZP = $0
   15. zero_slot_unmasked             $0 = 0
   16. copy_constant                  $1 = colorGreen(0)
   17. sub_float                      $0 -= $1
   18. copy_constant                  $1 = colorGreen(2)
   19. mul_float                      $0 *= $1
   20. copy_slot_unmasked             ZM = $0
   21. copy_constant                  $0 = colorGreen(1)
   22. copy_constant                  $1 = 0x42280000 (42.0)
   23. mul_float                      $0 *= $1
   24. copy_slot_unmasked             F42 = $0
   25. copy_constant                  $0 = colorGreen(1)
   26. copy_constant                  $1 = 0x422C0000 (43.0)
   27. mul_float                      $0 *= $1
   28. copy_slot_unmasked             F43 = $0
   29. copy_constant                  $0 = colorGreen(1)
   30. copy_constant                  $1 = 0x42300000 (44.0)
   31. mul_float                      $0 *= $1
   32. copy_slot_unmasked             F44 = $0
   33. copy_constant                  $0 = colorGreen(1)
   34. copy_constant                  $1 = 0x42340000 (45.0)
   35. mul_float                      $0 *= $1
   36. copy_slot_unmasked             F45 = $0
   37. copy_constant                  EQ = 0xFFFFFFFF
   38. zero_slot_unmasked             NE = 0
   39. copy_constant                  $0 = colorGreen(0)
   40. copy_constant                  $1 = 0x3F800000 (1.0)
   41. add_float                      $0 += $1
   42. copy_slot_unmasked             _0_one = $0
   43. copy_slot_unmasked             _1_a(0) = F42
   44. copy_slot_unmasked             _1_a(1) = ZM
   45. copy_slot_unmasked             _1_a(2) = ZP
   46. copy_slot_unmasked             _1_a(3) = F43
   47. copy_slot_unmasked             $0 = F42
   48. copy_slot_unmasked             $1 = _0_one
   49. mul_float                      $0 *= $1
   50. copy_slot_unmasked             $1 = ZM
   51. copy_slot_unmasked             $2 = _0_one
   52. mul_float                      $1 *= $2
   53. copy_slot_unmasked             $2 = ZP
   54. copy_slot_unmasked             $3 = _0_one
   55. mul_float                      $2 *= $3
   56. copy_slot_unmasked             $3 = F43
   57. copy_slot_unmasked             $4 = _0_one
   58. mul_float                      $3 *= $4
   59. copy_4_slots_unmasked          _2_b = $0..3
   60. store_condition_mask           $21 = CondMask
   61. store_condition_mask           $43 = CondMask
   62. store_condition_mask           $54 = CondMask
   63. store_condition_mask           $32 = CondMask
   64. store_condition_mask           $86 = CondMask
   65. store_condition_mask           $65 = CondMask
   66. store_condition_mask           $10 = CondMask
   67. store_condition_mask           $76 = CondMask
   68. store_condition_mask           $8 = CondMask
   69. copy_slot_unmasked             $9 = EQ
   70. copy_4_slots_unmasked          $77..80 = _1_a
   71. copy_4_slots_unmasked          $81..84 = _2_b
   72. cmpne_4_floats                 $77..80 = notEqual($77..80, $81..84)
   73. bitwise_or_2_ints              $77..78 |= $79..80
   74. bitwise_or_int                 $77 |= $78
   75. merge_condition_mask           CondMask = $8 & $9
   76. branch_if_no_active_lanes      branch_if_no_active_lanes +7 (label 0 at #83)
   77. copy_4_slots_unmasked          $78..81 = _1_a
   78. copy_4_slots_unmasked          $82..85 = _2_b
   79. cmpeq_4_floats                 $78..81 = equal($78..81, $82..85)
   80. bitwise_and_2_ints             $78..79 &= $80..81
   81. bitwise_and_int                $78 &= $79
   82. copy_slot_masked               $77 = Mask($78)
   83. label                          label 0x00000000
   84. load_condition_mask            CondMask = $8
   85. zero_slot_unmasked             $11 = 0
   86. merge_condition_mask           CondMask = $76 & $77
   87. branch_if_no_active_lanes      branch_if_no_active_lanes +45 (label 1 at #132)
   88. copy_slot_unmasked             eq = NE
   89. copy_slot_unmasked             f1 = F42
   90. copy_slot_unmasked             f2 = ZM
   91. copy_slot_unmasked             f3 = ZP
   92. copy_slot_unmasked             f4 = F43
   93. copy_constant                  $12 = colorGreen(0)
   94. copy_constant                  $13 = 0x3F800000 (1.0)
   95. add_float                      $12 += $13
   96. copy_slot_unmasked             one = $12
   97. copy_4_slots_unmasked          a = f1, f2, f3, f4
   98. copy_slot_unmasked             $12 = f1
   99. copy_slot_unmasked             $13 = one
  100. mul_float                      $12 *= $13
  101. copy_slot_unmasked             $13 = f2
  102. copy_slot_unmasked             $14 = one
  103. mul_float                      $13 *= $14
  104. copy_slot_unmasked             $14 = f3
  105. copy_slot_unmasked             $15 = one
  106. mul_float                      $14 *= $15
  107. copy_slot_unmasked             $15 = f4
  108. copy_slot_unmasked             $16 = one
  109. mul_float                      $15 *= $16
  110. copy_4_slots_unmasked          b = $12..15
  111. store_condition_mask           $78 = CondMask
  112. copy_slot_unmasked             $79 = eq
  113. copy_4_slots_unmasked          $12..15 = a
  114. copy_4_slots_unmasked          $16..19 = b
  115. cmpne_4_floats                 $12..15 = notEqual($12..15, $16..19)
  116. bitwise_or_2_ints              $12..13 |= $14..15
  117. bitwise_or_int                 $12 |= $13
  118. merge_condition_mask           CondMask = $78 & $79
  119. branch_if_no_active_lanes      branch_if_no_active_lanes +7 (label 3 at #126)
  120. copy_4_slots_unmasked          $13..16 = a
  121. copy_4_slots_unmasked          $17..20 = b
  122. cmpeq_4_floats                 $13..16 = equal($13..16, $17..20)
  123. bitwise_and_2_ints             $13..14 &= $15..16
  124. bitwise_and_int                $13 &= $14
  125. copy_slot_masked               $12 = Mask($13)
  126. label                          label 0x00000003
  127. load_condition_mask            CondMask = $78
  128. copy_slot_masked               [test_same_vectors].result = Mask($12)
  129. label                          label 0x00000002
  130. bitwise_not_int                $12 = ~$12
  131. copy_slot_masked               $11 = Mask($12)
  132. label                          label 0x00000001
  133. load_condition_mask            CondMask = $76
  134. zero_slot_unmasked             $66 = 0
  135. merge_condition_mask           CondMask = $10 & $11
  136. branch_if_no_active_lanes      branch_if_no_active_lanes +43 (label 4 at #179)
  137. copy_slot_unmasked             eq = NE
  138. copy_slot_unmasked             f1 = F42
  139. copy_2_slots_unmasked          f2, f3 = NAN1, NAN2
  140. copy_slot_unmasked             f4 = F43
  141. copy_constant                  $67 = colorGreen(0)
  142. copy_constant                  $68 = 0x3F800000 (1.0)
  143. add_float                      $67 += $68
  144. copy_slot_unmasked             one = $67
  145. copy_4_slots_unmasked          a = f1, f2, f3, f4
  146. copy_slot_unmasked             $67 = f1
  147. copy_slot_unmasked             $68 = one
  148. mul_float                      $67 *= $68
  149. copy_slot_unmasked             $68 = f2
  150. copy_slot_unmasked             $69 = one
  151. mul_float                      $68 *= $69
  152. copy_slot_unmasked             $69 = f3
  153. copy_slot_unmasked             $70 = one
  154. mul_float                      $69 *= $70
  155. copy_slot_unmasked             $70 = f4
  156. copy_slot_unmasked             $71 = one
  157. mul_float                      $70 *= $71
  158. copy_4_slots_unmasked          b = $67..70
  159. store_condition_mask           $12 = CondMask
  160. copy_slot_unmasked             $13 = eq
  161. copy_4_slots_unmasked          $67..70 = a
  162. copy_4_slots_unmasked          $71..74 = b
  163. cmpne_4_floats                 $67..70 = notEqual($67..70, $71..74)
  164. bitwise_or_2_ints              $67..68 |= $69..70
  165. bitwise_or_int                 $67 |= $68
  166. merge_condition_mask           CondMask = $12 & $13
  167. branch_if_no_active_lanes      branch_if_no_active_lanes +7 (label 6 at #174)
  168. copy_4_slots_unmasked          $68..71 = a
  169. copy_4_slots_unmasked          $72..75 = b
  170. cmpeq_4_floats                 $68..71 = equal($68..71, $72..75)
  171. bitwise_and_2_ints             $68..69 &= $70..71
  172. bitwise_and_int                $68 &= $69
  173. copy_slot_masked               $67 = Mask($68)
  174. label                          label 0x00000006
  175. load_condition_mask            CondMask = $12
  176. copy_slot_masked               [test_same_vectors].result = Mask($67)
  177. label                          label 0x00000005
  178. copy_slot_masked               $66 = Mask($67)
  179. label                          label 0x00000004
  180. load_condition_mask            CondMask = $10
  181. zero_slot_unmasked             $87 = 0
  182. merge_condition_mask           CondMask = $65 & $66
  183. branch_if_no_active_lanes      branch_if_no_active_lanes +44 (label 7 at #227)
  184. copy_slot_unmasked             eq = EQ
  185. copy_slot_unmasked             f1 = F42
  186. copy_2_slots_unmasked          f2, f3 = NAN1, NAN2
  187. copy_slot_unmasked             f4 = F43
  188. copy_constant                  $88 = colorGreen(0)
  189. copy_constant                  $89 = 0x3F800000 (1.0)
  190. add_float                      $88 += $89
  191. copy_slot_unmasked             one = $88
  192. copy_4_slots_unmasked          a = f1, f2, f3, f4
  193. copy_slot_unmasked             $88 = f1
  194. copy_slot_unmasked             $89 = one
  195. mul_float                      $88 *= $89
  196. copy_slot_unmasked             $89 = f2
  197. copy_slot_unmasked             $90 = one
  198. mul_float                      $89 *= $90
  199. copy_slot_unmasked             $90 = f3
  200. copy_slot_unmasked             $91 = one
  201. mul_float                      $90 *= $91
  202. copy_slot_unmasked             $91 = f4
  203. copy_slot_unmasked             $92 = one
  204. mul_float                      $91 *= $92
  205. copy_4_slots_unmasked          b = $88..91
  206. store_condition_mask           $67 = CondMask
  207. copy_slot_unmasked             $68 = eq
  208. copy_4_slots_unmasked          $88..91 = a
  209. copy_4_slots_unmasked          $92..95 = b
  210. cmpne_4_floats                 $88..91 = notEqual($88..91, $92..95)
  211. bitwise_or_2_ints              $88..89 |= $90..91
  212. bitwise_or_int                 $88 |= $89
  213. merge_condition_mask           CondMask = $67 & $68
  214. branch_if_no_active_lanes      branch_if_no_active_lanes +7 (label 9 at #221)
  215. copy_4_slots_unmasked          $89..92 = a
  216. copy_4_slots_unmasked          $93..96 = b
  217. cmpeq_4_floats                 $89..92 = equal($89..92, $93..96)
  218. bitwise_and_2_ints             $89..90 &= $91..92
  219. bitwise_and_int                $89 &= $90
  220. copy_slot_masked               $88 = Mask($89)
  221. label                          label 0x00000009
  222. load_condition_mask            CondMask = $67
  223. copy_slot_masked               [test_same_vectors].result = Mask($88)
  224. label                          label 0x00000008
  225. bitwise_not_int                $88 = ~$88
  226. copy_slot_masked               $87 = Mask($88)
  227. label                          label 0x00000007
  228. load_condition_mask            CondMask = $65
  229. zero_slot_unmasked             $33 = 0
  230. merge_condition_mask           CondMask = $86 & $87
  231. branch_if_no_active_lanes      branch_if_no_active_lanes +41 (label 10 at #272)
  232. copy_slot_unmasked             eq₁ = NE
  233. copy_4_slots_unmasked          f1₁, f2₁, f3₁, f4₁ = F42, F43, F44, F45
  234. copy_constant                  $34 = colorGreen(0)
  235. copy_constant                  $35 = 0x40000000 (2.0)
  236. add_float                      $34 += $35
  237. copy_slot_unmasked             two = $34
  238. copy_4_slots_unmasked          a₁ = f1₁, f2₁, f3₁, f4₁
  239. copy_slot_unmasked             $34 = f1₁
  240. copy_slot_unmasked             $35 = two
  241. mul_float                      $34 *= $35
  242. copy_slot_unmasked             $35 = f2₁
  243. copy_slot_unmasked             $36 = two
  244. mul_float                      $35 *= $36
  245. copy_slot_unmasked             $36 = f3₁
  246. copy_slot_unmasked             $37 = two
  247. mul_float                      $36 *= $37
  248. copy_slot_unmasked             $37 = f4₁
  249. copy_slot_unmasked             $38 = two
  250. mul_float                      $37 *= $38
  251. copy_4_slots_unmasked          b₁ = $34..37
  252. store_condition_mask           $88 = CondMask
  253. copy_slot_unmasked             $89 = eq₁
  254. copy_4_slots_unmasked          $34..37 = a₁
  255. copy_4_slots_unmasked          $38..41 = b₁
  256. cmpne_4_floats                 $34..37 = notEqual($34..37, $38..41)
  257. bitwise_or_2_ints              $34..35 |= $36..37
  258. bitwise_or_int                 $34 |= $35
  259. merge_condition_mask           CondMask = $88 & $89
  260. branch_if_no_active_lanes      branch_if_no_active_lanes +7 (label 12 at #267)
  261. copy_4_slots_unmasked          $35..38 = a₁
  262. copy_4_slots_unmasked          $39..42 = b₁
  263. cmpeq_4_floats                 $35..38 = equal($35..38, $39..42)
  264. bitwise_and_2_ints             $35..36 &= $37..38
  265. bitwise_and_int                $35 &= $36
  266. copy_slot_masked               $34 = Mask($35)
  267. label                          label 0x0000000C
  268. load_condition_mask            CondMask = $88
  269. copy_slot_masked               [test_diff_vectors].result = Mask($34)
  270. label                          label 0x0000000B
  271. copy_slot_masked               $33 = Mask($34)
  272. label                          label 0x0000000A
  273. load_condition_mask            CondMask = $86
  274. zero_slot_unmasked             $55 = 0
  275. merge_condition_mask           CondMask = $32 & $33
  276. branch_if_no_active_lanes      branch_if_no_active_lanes +42 (label 13 at #318)
  277. copy_slot_unmasked             eq₁ = EQ
  278. copy_4_slots_unmasked          f1₁, f2₁, f3₁, f4₁ = F42, F43, F44, F45
  279. copy_constant                  $56 = colorGreen(0)
  280. copy_constant                  $57 = 0x40000000 (2.0)
  281. add_float                      $56 += $57
  282. copy_slot_unmasked             two = $56
  283. copy_4_slots_unmasked          a₁ = f1₁, f2₁, f3₁, f4₁
  284. copy_slot_unmasked             $56 = f1₁
  285. copy_slot_unmasked             $57 = two
  286. mul_float                      $56 *= $57
  287. copy_slot_unmasked             $57 = f2₁
  288. copy_slot_unmasked             $58 = two
  289. mul_float                      $57 *= $58
  290. copy_slot_unmasked             $58 = f3₁
  291. copy_slot_unmasked             $59 = two
  292. mul_float                      $58 *= $59
  293. copy_slot_unmasked             $59 = f4₁
  294. copy_slot_unmasked             $60 = two
  295. mul_float                      $59 *= $60
  296. copy_4_slots_unmasked          b₁ = $56..59
  297. store_condition_mask           $34 = CondMask
  298. copy_slot_unmasked             $35 = eq₁
  299. copy_4_slots_unmasked          $56..59 = a₁
  300. copy_4_slots_unmasked          $60..63 = b₁
  301. cmpne_4_floats                 $56..59 = notEqual($56..59, $60..63)
  302. bitwise_or_2_ints              $56..57 |= $58..59
  303. bitwise_or_int                 $56 |= $57
  304. merge_condition_mask           CondMask = $34 & $35
  305. branch_if_no_active_lanes      branch_if_no_active_lanes +7 (label 15 at #312)
  306. copy_4_slots_unmasked          $57..60 = a₁
  307. copy_4_slots_unmasked          $61..64 = b₁
  308. cmpeq_4_floats                 $57..60 = equal($57..60, $61..64)
  309. bitwise_and_2_ints             $57..58 &= $59..60
  310. bitwise_and_int                $57 &= $58
  311. copy_slot_masked               $56 = Mask($57)
  312. label                          label 0x0000000F
  313. load_condition_mask            CondMask = $34
  314. copy_slot_masked               [test_diff_vectors].result = Mask($56)
  315. label                          label 0x0000000E
  316. bitwise_not_int                $56 = ~$56
  317. copy_slot_masked               $55 = Mask($56)
  318. label                          label 0x0000000D
  319. load_condition_mask            CondMask = $32
  320. zero_slot_unmasked             $44 = 0
  321. merge_condition_mask           CondMask = $54 & $55
  322. branch_if_no_active_lanes      branch_if_no_active_lanes +44 (label 16 at #366)
  323. copy_slot_unmasked             eq₁ = NE
  324. copy_slot_unmasked             f1₁ = NAN1
  325. copy_slot_unmasked             f2₁ = ZM
  326. copy_slot_unmasked             f3₁ = ZP
  327. copy_slot_unmasked             f4₁ = F42
  328. copy_constant                  $45 = colorGreen(0)
  329. copy_constant                  $46 = 0x40000000 (2.0)
  330. add_float                      $45 += $46
  331. copy_slot_unmasked             two = $45
  332. copy_4_slots_unmasked          a₁ = f1₁, f2₁, f3₁, f4₁
  333. copy_slot_unmasked             $45 = f1₁
  334. copy_slot_unmasked             $46 = two
  335. mul_float                      $45 *= $46
  336. copy_slot_unmasked             $46 = f2₁
  337. copy_slot_unmasked             $47 = two
  338. mul_float                      $46 *= $47
  339. copy_slot_unmasked             $47 = f3₁
  340. copy_slot_unmasked             $48 = two
  341. mul_float                      $47 *= $48
  342. copy_slot_unmasked             $48 = f4₁
  343. copy_slot_unmasked             $49 = two
  344. mul_float                      $48 *= $49
  345. copy_4_slots_unmasked          b₁ = $45..48
  346. store_condition_mask           $56 = CondMask
  347. copy_slot_unmasked             $57 = eq₁
  348. copy_4_slots_unmasked          $45..48 = a₁
  349. copy_4_slots_unmasked          $49..52 = b₁
  350. cmpne_4_floats                 $45..48 = notEqual($45..48, $49..52)
  351. bitwise_or_2_ints              $45..46 |= $47..48
  352. bitwise_or_int                 $45 |= $46
  353. merge_condition_mask           CondMask = $56 & $57
  354. branch_if_no_active_lanes      branch_if_no_active_lanes +7 (label 18 at #361)
  355. copy_4_slots_unmasked          $46..49 = a₁
  356. copy_4_slots_unmasked          $50..53 = b₁
  357. cmpeq_4_floats                 $46..49 = equal($46..49, $50..53)
  358. bitwise_and_2_ints             $46..47 &= $48..49
  359. bitwise_and_int                $46 &= $47
  360. copy_slot_masked               $45 = Mask($46)
  361. label                          label 0x00000012
  362. load_condition_mask            CondMask = $56
  363. copy_slot_masked               [test_diff_vectors].result = Mask($45)
  364. label                          label 0x00000011
  365. copy_slot_masked               $44 = Mask($45)
  366. label                          label 0x00000010
  367. load_condition_mask            CondMask = $54
  368. zero_slot_unmasked             $22 = 0
  369. merge_condition_mask           CondMask = $43 & $44
  370. branch_if_no_active_lanes      branch_if_no_active_lanes +45 (label 19 at #415)
  371. copy_slot_unmasked             eq₁ = EQ
  372. copy_slot_unmasked             f1₁ = NAN1
  373. copy_slot_unmasked             f2₁ = ZM
  374. copy_slot_unmasked             f3₁ = ZP
  375. copy_slot_unmasked             f4₁ = F42
  376. copy_constant                  $23 = colorGreen(0)
  377. copy_constant                  $24 = 0x40000000 (2.0)
  378. add_float                      $23 += $24
  379. copy_slot_unmasked             two = $23
  380. copy_4_slots_unmasked          a₁ = f1₁, f2₁, f3₁, f4₁
  381. copy_slot_unmasked             $23 = f1₁
  382. copy_slot_unmasked             $24 = two
  383. mul_float                      $23 *= $24
  384. copy_slot_unmasked             $24 = f2₁
  385. copy_slot_unmasked             $25 = two
  386. mul_float                      $24 *= $25
  387. copy_slot_unmasked             $25 = f3₁
  388. copy_slot_unmasked             $26 = two
  389. mul_float                      $25 *= $26
  390. copy_slot_unmasked             $26 = f4₁
  391. copy_slot_unmasked             $27 = two
  392. mul_float                      $26 *= $27
  393. copy_4_slots_unmasked          b₁ = $23..26
  394. store_condition_mask           $45 = CondMask
  395. copy_slot_unmasked             $46 = eq₁
  396. copy_4_slots_unmasked          $23..26 = a₁
  397. copy_4_slots_unmasked          $27..30 = b₁
  398. cmpne_4_floats                 $23..26 = notEqual($23..26, $27..30)
  399. bitwise_or_2_ints              $23..24 |= $25..26
  400. bitwise_or_int                 $23 |= $24
  401. merge_condition_mask           CondMask = $45 & $46
  402. branch_if_no_active_lanes      branch_if_no_active_lanes +7 (label 21 at #409)
  403. copy_4_slots_unmasked          $24..27 = a₁
  404. copy_4_slots_unmasked          $28..31 = b₁
  405. cmpeq_4_floats                 $24..27 = equal($24..27, $28..31)
  406. bitwise_and_2_ints             $24..25 &= $26..27
  407. bitwise_and_int                $24 &= $25
  408. copy_slot_masked               $23 = Mask($24)
  409. label                          label 0x00000015
  410. load_condition_mask            CondMask = $45
  411. copy_slot_masked               [test_diff_vectors].result = Mask($23)
  412. label                          label 0x00000014
  413. bitwise_not_int                $23 = ~$23
  414. copy_slot_masked               $22 = Mask($23)
  415. label                          label 0x00000013
  416. load_condition_mask            CondMask = $43
  417. copy_4_constants               $0..3 = colorRed
  418. merge_condition_mask           CondMask = $21 & $22
  419. copy_4_constants               $4..7 = colorGreen
  420. copy_4_slots_masked            $0..3 = Mask($4..7)
  421. label                          label 0x00000016
  422. load_condition_mask            CondMask = $21
  423. copy_4_slots_unmasked          [main].result = $0..3
  424. load_src                       src.rgba = [main].result
