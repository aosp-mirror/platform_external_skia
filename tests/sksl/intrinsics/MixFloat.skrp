    1. store_src_rg                   coords = src.rg
    2. init_lane_masks                CondMask = LoopMask = RetMask = true
    3. copy_constant                  $0 = 0x3F000000 (0.5)
    4. copy_constant                  $1 = 0x3F000000 (0.5)
    5. copy_constant                  $2 = 0x3F000000 (0.5)
    6. copy_constant                  $3 = 0x3F800000 (1.0)
    7. copy_4_slots_unmasked          expectedBW = $0..3
    8. copy_constant                  $0 = 0x3F800000 (1.0)
    9. copy_constant                  $1 = 0x3F000000 (0.5)
   10. copy_constant                  $2 = 0x3F800000 (1.0)
   11. copy_constant                  $3 = 0x40100000 (2.25)
   12. copy_4_slots_unmasked          expectedWT = $0..3
   13. store_condition_mask           $8 = CondMask
   14. copy_4_constants               $9..12 = colorGreen
   15. copy_4_constants               $13..16 = colorRed
   16. zero_slot_unmasked             $17 = 0
   17. swizzle_4                      $17..20 = ($17..20).xxxx
   18. mix_4_floats                   $9..12 = mix($9..12, $13..16, $17..20)
   19. zero_slot_unmasked             $13 = 0
   20. copy_constant                  $14 = 0x3F800000 (1.0)
   21. zero_slot_unmasked             $15 = 0
   22. copy_constant                  $16 = 0x3F800000 (1.0)
   23. cmpeq_4_floats                 $9..12 = equal($9..12, $13..16)
   24. bitwise_and_2_ints             $9..10 &= $11..12
   25. bitwise_and_int                $9 &= $10
   26. copy_4_constants               $10..13 = colorGreen
   27. copy_4_constants               $14..17 = colorRed
   28. copy_constant                  $18 = 0x3E800000 (0.25)
   29. swizzle_4                      $18..21 = ($18..21).xxxx
   30. mix_4_floats                   $10..13 = mix($10..13, $14..17, $18..21)
   31. copy_constant                  $14 = 0x3E800000 (0.25)
   32. copy_constant                  $15 = 0x3F400000 (0.75)
   33. zero_slot_unmasked             $16 = 0
   34. copy_constant                  $17 = 0x3F800000 (1.0)
   35. cmpeq_4_floats                 $10..13 = equal($10..13, $14..17)
   36. bitwise_and_2_ints             $10..11 &= $12..13
   37. bitwise_and_int                $10 &= $11
   38. bitwise_and_int                $9 &= $10
   39. copy_4_constants               $10..13 = colorGreen
   40. copy_4_constants               $14..17 = colorRed
   41. copy_constant                  $18 = 0x3F400000 (0.75)
   42. swizzle_4                      $18..21 = ($18..21).xxxx
   43. mix_4_floats                   $10..13 = mix($10..13, $14..17, $18..21)
   44. copy_constant                  $14 = 0x3F400000 (0.75)
   45. copy_constant                  $15 = 0x3E800000 (0.25)
   46. zero_slot_unmasked             $16 = 0
   47. copy_constant                  $17 = 0x3F800000 (1.0)
   48. cmpeq_4_floats                 $10..13 = equal($10..13, $14..17)
   49. bitwise_and_2_ints             $10..11 &= $12..13
   50. bitwise_and_int                $10 &= $11
   51. bitwise_and_int                $9 &= $10
   52. copy_4_constants               $10..13 = colorGreen
   53. copy_4_constants               $14..17 = colorRed
   54. copy_constant                  $18 = 0x3F800000 (1.0)
   55. swizzle_4                      $18..21 = ($18..21).xxxx
   56. mix_4_floats                   $10..13 = mix($10..13, $14..17, $18..21)
   57. copy_constant                  $14 = 0x3F800000 (1.0)
   58. zero_slot_unmasked             $15 = 0
   59. zero_slot_unmasked             $16 = 0
   60. copy_constant                  $17 = 0x3F800000 (1.0)
   61. cmpeq_4_floats                 $10..13 = equal($10..13, $14..17)
   62. bitwise_and_2_ints             $10..11 &= $12..13
   63. bitwise_and_int                $10 &= $11
   64. bitwise_and_int                $9 &= $10
   65. copy_constant                  $10 = colorBlack(0)
   66. copy_constant                  $11 = colorWhite(0)
   67. copy_constant                  $12 = 0x3F000000 (0.5)
   68. mix_float                      $10 = mix($10, $11, $12)
   69. copy_slot_unmasked             $11 = expectedBW(0)
   70. cmpeq_float                    $10 = equal($10, $11)
   71. bitwise_and_int                $9 &= $10
   72. copy_2_constants               $10..11 = colorBlack(0..1)
   73. copy_2_constants               $12..13 = colorWhite(0..1)
   74. copy_constant                  $14 = 0x3F000000 (0.5)
   75. copy_slot_unmasked             $15 = $14
   76. mix_2_floats                   $10..11 = mix($10..11, $12..13, $14..15)
   77. copy_2_slots_unmasked          $12..13 = expectedBW(0..1)
   78. cmpeq_2_floats                 $10..11 = equal($10..11, $12..13)
   79. bitwise_and_int                $10 &= $11
   80. bitwise_and_int                $9 &= $10
   81. copy_3_constants               $10..12 = colorBlack(0..2)
   82. copy_3_constants               $13..15 = colorWhite(0..2)
   83. copy_constant                  $16 = 0x3F000000 (0.5)
   84. swizzle_3                      $16..18 = ($16..18).xxx
   85. mix_3_floats                   $10..12 = mix($10..12, $13..15, $16..18)
   86. copy_3_slots_unmasked          $13..15 = expectedBW(0..2)
   87. cmpeq_3_floats                 $10..12 = equal($10..12, $13..15)
   88. bitwise_and_int                $11 &= $12
   89. bitwise_and_int                $10 &= $11
   90. bitwise_and_int                $9 &= $10
   91. copy_4_constants               $10..13 = colorBlack
   92. copy_4_constants               $14..17 = colorWhite
   93. copy_constant                  $18 = 0x3F000000 (0.5)
   94. swizzle_4                      $18..21 = ($18..21).xxxx
   95. mix_4_floats                   $10..13 = mix($10..13, $14..17, $18..21)
   96. copy_4_slots_unmasked          $14..17 = expectedBW
   97. cmpeq_4_floats                 $10..13 = equal($10..13, $14..17)
   98. bitwise_and_2_ints             $10..11 &= $12..13
   99. bitwise_and_int                $10 &= $11
  100. bitwise_and_int                $9 &= $10
  101. copy_constant                  $10 = 0x3F000000 (0.5)
  102. copy_slot_unmasked             $11 = expectedBW(0)
  103. cmpeq_float                    $10 = equal($10, $11)
  104. bitwise_and_int                $9 &= $10
  105. copy_constant                  $10 = 0x3F000000 (0.5)
  106. copy_constant                  $11 = 0x3F000000 (0.5)
  107. copy_2_slots_unmasked          $12..13 = expectedBW(0..1)
  108. cmpeq_2_floats                 $10..11 = equal($10..11, $12..13)
  109. bitwise_and_int                $10 &= $11
  110. bitwise_and_int                $9 &= $10
  111. copy_constant                  $10 = 0x3F000000 (0.5)
  112. copy_constant                  $11 = 0x3F000000 (0.5)
  113. copy_constant                  $12 = 0x3F000000 (0.5)
  114. copy_3_slots_unmasked          $13..15 = expectedBW(0..2)
  115. cmpeq_3_floats                 $10..12 = equal($10..12, $13..15)
  116. bitwise_and_int                $11 &= $12
  117. bitwise_and_int                $10 &= $11
  118. bitwise_and_int                $9 &= $10
  119. copy_constant                  $10 = 0x3F000000 (0.5)
  120. copy_constant                  $11 = 0x3F000000 (0.5)
  121. copy_constant                  $12 = 0x3F000000 (0.5)
  122. copy_constant                  $13 = 0x3F800000 (1.0)
  123. copy_4_slots_unmasked          $14..17 = expectedBW
  124. cmpeq_4_floats                 $10..13 = equal($10..13, $14..17)
  125. bitwise_and_2_ints             $10..11 &= $12..13
  126. bitwise_and_int                $10 &= $11
  127. bitwise_and_int                $9 &= $10
  128. copy_constant                  $10 = colorWhite(0)
  129. copy_constant                  $11 = testInputs(0)
  130. zero_slot_unmasked             $12 = 0
  131. mix_float                      $10 = mix($10, $11, $12)
  132. copy_slot_unmasked             $11 = expectedWT(0)
  133. cmpeq_float                    $10 = equal($10, $11)
  134. bitwise_and_int                $9 &= $10
  135. copy_2_constants               $10..11 = colorWhite(0..1)
  136. copy_2_constants               $12..13 = testInputs(0..1)
  137. zero_slot_unmasked             $14 = 0
  138. copy_constant                  $15 = 0x3F000000 (0.5)
  139. mix_2_floats                   $10..11 = mix($10..11, $12..13, $14..15)
  140. copy_2_slots_unmasked          $12..13 = expectedWT(0..1)
  141. cmpeq_2_floats                 $10..11 = equal($10..11, $12..13)
  142. bitwise_and_int                $10 &= $11
  143. bitwise_and_int                $9 &= $10
  144. copy_3_constants               $10..12 = colorWhite(0..2)
  145. copy_3_constants               $13..15 = testInputs(0..2)
  146. zero_slot_unmasked             $16 = 0
  147. copy_constant                  $17 = 0x3F000000 (0.5)
  148. zero_slot_unmasked             $18 = 0
  149. mix_3_floats                   $10..12 = mix($10..12, $13..15, $16..18)
  150. copy_3_slots_unmasked          $13..15 = expectedWT(0..2)
  151. cmpeq_3_floats                 $10..12 = equal($10..12, $13..15)
  152. bitwise_and_int                $11 &= $12
  153. bitwise_and_int                $10 &= $11
  154. bitwise_and_int                $9 &= $10
  155. copy_4_constants               $10..13 = colorWhite
  156. copy_4_constants               $14..17 = testInputs
  157. zero_slot_unmasked             $18 = 0
  158. copy_constant                  $19 = 0x3F000000 (0.5)
  159. zero_slot_unmasked             $20 = 0
  160. copy_constant                  $21 = 0x3F800000 (1.0)
  161. mix_4_floats                   $10..13 = mix($10..13, $14..17, $18..21)
  162. copy_4_slots_unmasked          $14..17 = expectedWT
  163. cmpeq_4_floats                 $10..13 = equal($10..13, $14..17)
  164. bitwise_and_2_ints             $10..11 &= $12..13
  165. bitwise_and_int                $10 &= $11
  166. bitwise_and_int                $9 &= $10
  167. copy_constant                  $10 = 0x3F800000 (1.0)
  168. copy_slot_unmasked             $11 = expectedWT(0)
  169. cmpeq_float                    $10 = equal($10, $11)
  170. bitwise_and_int                $9 &= $10
  171. copy_constant                  $10 = 0x3F800000 (1.0)
  172. copy_constant                  $11 = 0x3F000000 (0.5)
  173. copy_2_slots_unmasked          $12..13 = expectedWT(0..1)
  174. cmpeq_2_floats                 $10..11 = equal($10..11, $12..13)
  175. bitwise_and_int                $10 &= $11
  176. bitwise_and_int                $9 &= $10
  177. copy_constant                  $10 = 0x3F800000 (1.0)
  178. copy_constant                  $11 = 0x3F000000 (0.5)
  179. copy_constant                  $12 = 0x3F800000 (1.0)
  180. copy_3_slots_unmasked          $13..15 = expectedWT(0..2)
  181. cmpeq_3_floats                 $10..12 = equal($10..12, $13..15)
  182. bitwise_and_int                $11 &= $12
  183. bitwise_and_int                $10 &= $11
  184. bitwise_and_int                $9 &= $10
  185. copy_constant                  $10 = 0x3F800000 (1.0)
  186. copy_constant                  $11 = 0x3F000000 (0.5)
  187. copy_constant                  $12 = 0x3F800000 (1.0)
  188. copy_constant                  $13 = 0x40100000 (2.25)
  189. copy_4_slots_unmasked          $14..17 = expectedWT
  190. cmpeq_4_floats                 $10..13 = equal($10..13, $14..17)
  191. bitwise_and_2_ints             $10..11 &= $12..13
  192. bitwise_and_int                $10 &= $11
  193. bitwise_and_int                $9 &= $10
  194. copy_4_constants               $0..3 = colorRed
  195. merge_condition_mask           CondMask = $8 & $9
  196. copy_4_constants               $4..7 = colorGreen
  197. copy_4_slots_masked            $0..3 = Mask($4..7)
  198. load_condition_mask            CondMask = $8
  199. copy_4_slots_masked            [main].result = Mask($0..3)
  200. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  201. load_src                       src.rgba = [main].result
