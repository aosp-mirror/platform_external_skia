    1. store_src_rg                   coords = src.rg
    2. init_lane_masks                CondMask = LoopMask = RetMask = true
    3. zero_slot_unmasked             $0 = 0
    4. copy_constant                  $1 = 0x3F800000 (1.0)
    5. zero_slot_unmasked             $2 = 0
    6. copy_constant                  $3 = 0x3F800000 (1.0)
    7. copy_4_slots_unmasked          constGreen = $0..3
    8. zero_slot_unmasked             $0 = 0
    9. zero_slot_unmasked             $1 = 0
   10. copy_constant                  $2 = 0x3F800000 (1.0)
   11. copy_constant                  $3 = 0x3F800000 (1.0)
   12. copy_4_slots_unmasked          expectedA = $0..3
   13. copy_constant                  $0 = 0x3F800000 (1.0)
   14. copy_constant                  $1 = 0x3F800000 (1.0)
   15. zero_slot_unmasked             $2 = 0
   16. zero_slot_unmasked             $3 = 0
   17. copy_4_slots_unmasked          expectedB = $0..3
   18. store_condition_mask           $8 = CondMask
   19. copy_constant                  $9 = 0x3F000000 (0.5)
   20. copy_constant                  $10 = testInputs(0)
   21. cmplt_float                    $9 = lessThan($9, $10)
   22. copy_constant                  $10 = 0x3F800000 (1.0)
   23. bitwise_and_int                $9 &= $10
   24. copy_slot_unmasked             $10 = expectedA(0)
   25. cmpeq_float                    $9 = equal($9, $10)
   26. copy_constant                  $10 = 0x3F000000 (0.5)
   27. copy_slot_unmasked             $11 = $10
   28. copy_2_constants               $12..13 = testInputs(0..1)
   29. cmplt_2_floats                 $10..11 = lessThan($10..11, $12..13)
   30. copy_constant                  $12 = 0x3F800000 (1.0)
   31. copy_slot_unmasked             $13 = $12
   32. bitwise_and_2_ints             $10..11 &= $12..13
   33. copy_2_slots_unmasked          $12..13 = expectedA(0..1)
   34. cmpeq_2_floats                 $10..11 = equal($10..11, $12..13)
   35. bitwise_and_int                $10 &= $11
   36. bitwise_and_int                $9 &= $10
   37. copy_constant                  $10 = 0x3F000000 (0.5)
   38. swizzle_3                      $10..12 = ($10..12).xxx
   39. copy_3_constants               $13..15 = testInputs(0..2)
   40. cmplt_3_floats                 $10..12 = lessThan($10..12, $13..15)
   41. copy_constant                  $13 = 0x3F800000 (1.0)
   42. swizzle_3                      $13..15 = ($13..15).xxx
   43. bitwise_and_3_ints             $10..12 &= $13..15
   44. copy_3_slots_unmasked          $13..15 = expectedA(0..2)
   45. cmpeq_3_floats                 $10..12 = equal($10..12, $13..15)
   46. bitwise_and_int                $11 &= $12
   47. bitwise_and_int                $10 &= $11
   48. bitwise_and_int                $9 &= $10
   49. copy_constant                  $10 = 0x3F000000 (0.5)
   50. swizzle_4                      $10..13 = ($10..13).xxxx
   51. copy_4_constants               $14..17 = testInputs
   52. cmplt_4_floats                 $10..13 = lessThan($10..13, $14..17)
   53. copy_constant                  $14 = 0x3F800000 (1.0)
   54. swizzle_4                      $14..17 = ($14..17).xxxx
   55. bitwise_and_4_ints             $10..13 &= $14..17
   56. copy_4_slots_unmasked          $14..17 = expectedA
   57. cmpeq_4_floats                 $10..13 = equal($10..13, $14..17)
   58. bitwise_and_2_ints             $10..11 &= $12..13
   59. bitwise_and_int                $10 &= $11
   60. bitwise_and_int                $9 &= $10
   61. zero_slot_unmasked             $10 = 0
   62. copy_slot_unmasked             $11 = expectedA(0)
   63. cmpeq_float                    $10 = equal($10, $11)
   64. bitwise_and_int                $9 &= $10
   65. zero_slot_unmasked             $10 = 0
   66. zero_slot_unmasked             $11 = 0
   67. copy_2_slots_unmasked          $12..13 = expectedA(0..1)
   68. cmpeq_2_floats                 $10..11 = equal($10..11, $12..13)
   69. bitwise_and_int                $10 &= $11
   70. bitwise_and_int                $9 &= $10
   71. zero_slot_unmasked             $10 = 0
   72. zero_slot_unmasked             $11 = 0
   73. copy_constant                  $12 = 0x3F800000 (1.0)
   74. copy_3_slots_unmasked          $13..15 = expectedA(0..2)
   75. cmpeq_3_floats                 $10..12 = equal($10..12, $13..15)
   76. bitwise_and_int                $11 &= $12
   77. bitwise_and_int                $10 &= $11
   78. bitwise_and_int                $9 &= $10
   79. zero_slot_unmasked             $10 = 0
   80. zero_slot_unmasked             $11 = 0
   81. copy_constant                  $12 = 0x3F800000 (1.0)
   82. copy_constant                  $13 = 0x3F800000 (1.0)
   83. copy_4_slots_unmasked          $14..17 = expectedA
   84. cmpeq_4_floats                 $10..13 = equal($10..13, $14..17)
   85. bitwise_and_2_ints             $10..11 &= $12..13
   86. bitwise_and_int                $10 &= $11
   87. bitwise_and_int                $9 &= $10
   88. copy_constant                  $10 = testInputs(0)
   89. zero_slot_unmasked             $11 = 0
   90. cmplt_float                    $10 = lessThan($10, $11)
   91. copy_constant                  $11 = 0x3F800000 (1.0)
   92. bitwise_and_int                $10 &= $11
   93. copy_slot_unmasked             $11 = expectedB(0)
   94. cmpeq_float                    $10 = equal($10, $11)
   95. bitwise_and_int                $9 &= $10
   96. copy_2_constants               $10..11 = testInputs(0..1)
   97. zero_slot_unmasked             $12 = 0
   98. copy_constant                  $13 = 0x3F800000 (1.0)
   99. cmplt_2_floats                 $10..11 = lessThan($10..11, $12..13)
  100. copy_constant                  $12 = 0x3F800000 (1.0)
  101. copy_slot_unmasked             $13 = $12
  102. bitwise_and_2_ints             $10..11 &= $12..13
  103. copy_2_slots_unmasked          $12..13 = expectedB(0..1)
  104. cmpeq_2_floats                 $10..11 = equal($10..11, $12..13)
  105. bitwise_and_int                $10 &= $11
  106. bitwise_and_int                $9 &= $10
  107. copy_3_constants               $10..12 = testInputs(0..2)
  108. zero_slot_unmasked             $13 = 0
  109. copy_constant                  $14 = 0x3F800000 (1.0)
  110. zero_slot_unmasked             $15 = 0
  111. cmplt_3_floats                 $10..12 = lessThan($10..12, $13..15)
  112. copy_constant                  $13 = 0x3F800000 (1.0)
  113. swizzle_3                      $13..15 = ($13..15).xxx
  114. bitwise_and_3_ints             $10..12 &= $13..15
  115. copy_3_slots_unmasked          $13..15 = expectedB(0..2)
  116. cmpeq_3_floats                 $10..12 = equal($10..12, $13..15)
  117. bitwise_and_int                $11 &= $12
  118. bitwise_and_int                $10 &= $11
  119. bitwise_and_int                $9 &= $10
  120. copy_4_constants               $10..13 = testInputs
  121. copy_4_slots_unmasked          $14..17 = constGreen
  122. cmplt_4_floats                 $10..13 = lessThan($10..13, $14..17)
  123. copy_constant                  $14 = 0x3F800000 (1.0)
  124. swizzle_4                      $14..17 = ($14..17).xxxx
  125. bitwise_and_4_ints             $10..13 &= $14..17
  126. copy_4_slots_unmasked          $14..17 = expectedB
  127. cmpeq_4_floats                 $10..13 = equal($10..13, $14..17)
  128. bitwise_and_2_ints             $10..11 &= $12..13
  129. bitwise_and_int                $10 &= $11
  130. bitwise_and_int                $9 &= $10
  131. copy_constant                  $10 = 0x3F800000 (1.0)
  132. copy_slot_unmasked             $11 = expectedB(0)
  133. cmpeq_float                    $10 = equal($10, $11)
  134. bitwise_and_int                $9 &= $10
  135. copy_constant                  $10 = 0x3F800000 (1.0)
  136. copy_constant                  $11 = 0x3F800000 (1.0)
  137. copy_2_slots_unmasked          $12..13 = expectedB(0..1)
  138. cmpeq_2_floats                 $10..11 = equal($10..11, $12..13)
  139. bitwise_and_int                $10 &= $11
  140. bitwise_and_int                $9 &= $10
  141. copy_constant                  $10 = 0x3F800000 (1.0)
  142. copy_constant                  $11 = 0x3F800000 (1.0)
  143. zero_slot_unmasked             $12 = 0
  144. copy_3_slots_unmasked          $13..15 = expectedB(0..2)
  145. cmpeq_3_floats                 $10..12 = equal($10..12, $13..15)
  146. bitwise_and_int                $11 &= $12
  147. bitwise_and_int                $10 &= $11
  148. bitwise_and_int                $9 &= $10
  149. copy_constant                  $10 = 0x3F800000 (1.0)
  150. copy_constant                  $11 = 0x3F800000 (1.0)
  151. zero_slot_unmasked             $12 = 0
  152. zero_slot_unmasked             $13 = 0
  153. copy_4_slots_unmasked          $14..17 = expectedB
  154. cmpeq_4_floats                 $10..13 = equal($10..13, $14..17)
  155. bitwise_and_2_ints             $10..11 &= $12..13
  156. bitwise_and_int                $10 &= $11
  157. bitwise_and_int                $9 &= $10
  158. copy_4_constants               $0..3 = colorRed
  159. merge_condition_mask           CondMask = $8 & $9
  160. copy_4_constants               $4..7 = colorGreen
  161. copy_4_slots_masked            $0..3 = Mask($4..7)
  162. load_condition_mask            CondMask = $8
  163. copy_4_slots_masked            [main].result = Mask($0..3)
  164. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  165. load_src                       src.rgba = [main].result
